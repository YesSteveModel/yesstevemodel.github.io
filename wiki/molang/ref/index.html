<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.164" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"molang 参考表","image":[""],"dateModified":"2026-01-05T11:24:06.000Z","author":[{"@type":"Person","name":"K螺诺亚"}]}</script><meta property="og:url" content="https://ysm.cfpa.team/wiki/molang/ref/"><meta property="og:site_name" content="YSM 文档与教程"><meta property="og:title" content="molang 参考表"><meta property="og:description" content="预设 molang 函数与变量 你可以在下表中找到所有的预设函数与变量： math 部分 query 部分 ysm 实体部分 ysm 弹射物相关 Ctrl 部分 这部分主要用于动画控制器 TacZ 部分 沉浸式奏乐部分 其他模组部分 脚本控制器 这些 molang 仅用于后续自定义函数篇章的脚本控制器里 TLM 部分 这部分 molang 一般只能用于..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-01-05T11:24:06.000Z"><meta property="article:author" content="K螺诺亚"><meta property="article:modified_time" content="2026-01-05T11:24:06.000Z"><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><link rel="stylesheet" href="https://google-fonts.mirrors.sjtug.sjtu.edu.cn/css2?family=JetBrains+Mono&family=Noto+Sans+SC&family=Noto+Serif+SC:wght@900&display=swap"><title>molang 参考表 | YSM 文档与教程</title><meta name="description" content="预设 molang 函数与变量 你可以在下表中找到所有的预设函数与变量： math 部分 query 部分 ysm 实体部分 ysm 弹射物相关 Ctrl 部分 这部分主要用于动画控制器 TacZ 部分 沉浸式奏乐部分 其他模组部分 脚本控制器 这些 molang 仅用于后续自定义函数篇章的脚本控制器里 TLM 部分 这部分 molang 一般只能用于..."><link rel="preload" href="/assets/style-BPF_7g8p.css" as="style"><link rel="stylesheet" href="/assets/style-BPF_7g8p.css"><link rel="modulepreload" href="/assets/app-Cr4mnnBX.js"><link rel="modulepreload" href="/assets/index.html-DxIuvZ83.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-f73ca3da><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-17e3d305></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-17e3d305> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-f73ca3da data-v-e98a6132><div class="vp-navbar" vp-navbar data-v-e98a6132 data-v-2c31ea5e><div class="wrapper" data-v-2c31ea5e><div class="container" data-v-2c31ea5e><div class="title" data-v-2c31ea5e><div class="vp-navbar-title has-sidebar" data-v-2c31ea5e data-v-1a4f50af><a class="vp-link link no-icon title" href="/" data-v-1a4f50af><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-480e858a><!--]--><!--[--><img class="vp-image light logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-480e858a><!--]--><!--]--><!--]--><span data-v-1a4f50af>YSM 文档与教程</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-2c31ea5e><div class="content-body" data-v-2c31ea5e><!--[--><!--]--><div class="vp-navbar-search search" data-v-2c31ea5e><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-2c31ea5e data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/wiki/log/231/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>更新日志</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/wiki/intro/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>文档</span><!----><!--]--><!----></a><!--]--><!--]--></nav><!--[--><!--]--><div class="vp-flyout vp-navbar-translations translations" data-v-2c31ea5e data-v-0d45479b data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-86530b6c><span class="text" data-v-86530b6c><!----><span class="vpi-languages option-icon" data-v-86530b6c></span><!----><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><div class="items" data-v-0d45479b><p class="title" data-v-0d45479b>简体中文</p><!--[--><div class="vp-menu-link" data-v-0d45479b data-v-1ff1855f><a class="vp-link link" href="/en/" data-v-1ff1855f><!--[--><!----> English <!----><!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="vp-navbar-appearance appearance" data-v-2c31ea5e data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-2c31ea5e data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/YesSteveModel/YSM-Wiki-Issues" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-2c31ea5e data-v-652282fd data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-86530b6c><span class="vpi-more-horizontal icon" data-v-86530b6c></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/YesSteveModel/YSM-Wiki-Issues" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-2c31ea5e data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-2c31ea5e><div class="divider-line" data-v-2c31ea5e></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-f73ca3da data-v-3944d8e8><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-3944d8e8><span class="vpi-align-left menu-icon" data-v-3944d8e8></span><span class="menu-text" data-v-3944d8e8>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-3944d8e8 data-v-4114a62c><button data-v-4114a62c>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-f73ca3da data-v-95211354><div class="curtain" data-v-95211354></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-95211354><span id="sidebar-aria-label" class="visually-hidden" data-v-95211354> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>新手入门</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/intro/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>简介</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/install/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>安装使用</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/faq/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>常见问题解答</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/type/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>模型格式说明</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/config/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>配置文件说明</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/command/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>相关指令</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/freesia-plugin/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>Freesia 插件</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>模型包制作</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/preparation/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>准备工具</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/plugin/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>使用插件制作</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/video/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>视频教程</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/struct/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>项目结构</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/tph2yetr/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>模型制作</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/texture/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>贴图制作</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/ysm-uv-standard/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>YSM 模型 UV 规范</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/pbr/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>PBR贴图</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/sound/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>添加音频</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/roulette/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>自定义轮盘</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/controller/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>动画控制器</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/i18n/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>多语言支持</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/foreground-and-background/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>前景图与背景图</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/model-pack/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>模型打包</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>动画制作</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/index/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>动画概述</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/main/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>玩家主动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/condition/arm/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>手部条件动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/parallel/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>并行动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/armor/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>护甲动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/ride/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>骑乘动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/extra/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>轮盘动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/arrow/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>箭矢动画（已过时）</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/projectile/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>弹射物动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/gui/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>选择界面动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/tacz/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>枪械动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/swem/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>马术动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/parcool/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>跑酷动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/carryon/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>CarryOn动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/slashblade/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>拔刀剑动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/tlm/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>女仆动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/vehicle/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>骑乘实体动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/first-person-anim/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>第一人称动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/iron-spell/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>铁魔法动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/immersive-melodies/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>沉浸式奏乐动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/better-combat/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>更好的战斗动画</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/animation/fp/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>更真实的第一人称</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>molang</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/molang/index/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>简介</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/molang/var/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>变量介绍</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/molang/common/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>常用 molang 集合</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/molang/ref/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>molang 参考表</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/molang/misc/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>molang 杂项内容</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/molang/script/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>自定义函数</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>模型转换</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/trans/netease/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>中国版YSM组件</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/trans/maid/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>女仆模组</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>更新日志</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/261/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.6.1 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/260/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.6.0 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/253/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.5.3 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/252/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.5.2 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/251/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.5.1 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/250/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.5.0 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/241/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.4.1 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/240/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.4.0 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/232/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.3.2 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/231/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.3.1 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/230/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.3.0 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/222/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.2.2 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/221/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>2.2.1 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/wiki/log/120/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>1.2.0 更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-f73ca3da data-v-b2beaca7><div class="vp-doc-container has-sidebar has-aside" data-v-b2beaca7 data-v-23f6ad98><!--[--><!--]--><div class="container" data-v-23f6ad98><div class="aside" vp-outline data-v-23f6ad98><div class="aside-curtain" data-v-23f6ad98></div><div class="aside-container" data-v-23f6ad98><div class="aside-content" data-v-23f6ad98><div class="vp-doc-aside" data-v-23f6ad98 data-v-5976474c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-5976474c data-v-aa56eba0><div class="content" data-v-aa56eba0><div class="outline-marker" data-v-aa56eba0></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-aa56eba0><span data-v-aa56eba0>此页内容</span><span class="vpi-print icon" data-v-aa56eba0></span></div><ul class="root" data-v-aa56eba0 data-v-3e6b023c><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5976474c></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-23f6ad98><div class="content-container" data-v-23f6ad98><!--[--><!--]--><main class="main" data-v-23f6ad98><nav class="vp-breadcrumb" data-v-23f6ad98 data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="首页" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><span class="vp-link breadcrumb" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->molang<!--]--><!----></span><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="molang" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb current" href="/wiki/molang/ref/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->molang 参考表<!--]--><!----></a><!----><meta property="name" content="molang 参考表" data-v-1ae4ad7a><meta property="position" content="3" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-ba8d1a1e><!----> molang 参考表 <!----></h1><div class="vp-doc-meta" data-v-ba8d1a1e><!--[--><!--]--><p class="reading-time" data-v-ba8d1a1e><span class="vpi-books icon" data-v-ba8d1a1e></span><span data-v-ba8d1a1e>约 7111 字</span><span data-v-ba8d1a1e>大约 24 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-ba8d1a1e><span class="vpi-clock icon" data-v-ba8d1a1e></span><span data-v-ba8d1a1e>2025-01-28</span></p></div><!--]--><!--[--><!--]--><div class="_wiki_molang_ref_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-23f6ad98><!--[--><!--]--><div data-v-23f6ad98><h2 id="预设-molang-函数与变量" tabindex="-1"><a class="header-anchor" href="#预设-molang-函数与变量"><span>预设 molang 函数与变量</span></a></h2><p>你可以在下表中找到所有的预设函数与变量：</p><h3 id="math-部分" tabindex="-1"><a class="header-anchor" href="#math-部分"><span>math 部分</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>math.pi</code></td><td style="text-align:center;">π，常量</td><td style="text-align:center;">固定为：<code>3.14159265358979</code></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.e</code></td><td style="text-align:center;">⾃然对数，常量</td><td style="text-align:center;">固定为：<code>2.71828182845904</code></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.floor(value)</code></td><td style="text-align:center;">向下取整</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.round(value)</code></td><td style="text-align:center;">数字四舍五入取整</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.ceil(value)</code></td><td style="text-align:center;">数字的向上取整</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.trunc(value)</code></td><td style="text-align:center;">截短法取整，这种方式在处理负数时是向上取整</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.clamp(value, min, max)</code></td><td style="text-align:center;">把 value 限定在最小值和最大值之间</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.max(x, y)</code></td><td style="text-align:center;">返回 x 和 y 中的最大值</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.min(x, y)</code></td><td style="text-align:center;">返回 x 和 y 中的最小值</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.abs(value)</code></td><td style="text-align:center;">value 的绝对值</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.exp(value)</code></td><td style="text-align:center;">value 以 e 为底数的指数函数</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.ln(value)</code></td><td style="text-align:center;">value 以 e 为底数的对数函数</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.sqrt(value)</code></td><td style="text-align:center;">value 的平方根</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.mod(value, denominator)</code></td><td style="text-align:center;">value 除以 denominator 后的余数</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.pow(base, exponent)</code></td><td style="text-align:center;">返回 base 的 exponent 次幂</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.sin(value)</code></td><td style="text-align:center;">value 的正弦值</td><td style="text-align:center;">输入参数为角度</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.cos(value)</code></td><td style="text-align:center;">value 的余弦值</td><td style="text-align:center;">输入参数为角度</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.acos(value)</code></td><td style="text-align:center;">value 的反余弦值</td><td style="text-align:center;">输入的 value 区间是[-1,1]，返回数据为弧度值</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.asin(value)</code></td><td style="text-align:center;">value 的反正弦值</td><td style="text-align:center;">输入的 value 区间是[-1,1]，返回数据为弧度值</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.atan(value)</code></td><td style="text-align:center;">value 的反正切值</td><td style="text-align:center;">输入的value区间是[-∞,+∞]，返回数据为弧度值</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.atan2(y, x)</code></td><td style="text-align:center;">从原点 (0,0) 到 (x,y) 点的线段与 x 轴正方向之间的平面角度 (弧度值)</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.lerp(start, end, 0_to_1)</code></td><td style="text-align:center;">在 start 和 end 之间根据 0~1 取线性插值</td><td style="text-align:center;">等价于此公式：$start + (end - start)\times 0_to_1 $</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.lerprotatee(start, end, 0_to_1)</code></td><td style="text-align:center;">作为角度，在 start 和 end 之间根据 0~1 取中间插值</td><td style="text-align:center;">超过 360 度时会回退回 0 度</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.random(low, high)</code></td><td style="text-align:center;">返回在最小值到最大值之间的随机数</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.random_integer(low, high)</code></td><td style="text-align:center;">返回在最小值到最大值之间的随机<strong>整数</strong></td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.die_roll(num, low, high)</code></td><td style="text-align:center;">返回<code>num</code>个随机数的总和，每个值的范围从低到高</td><td style="text-align:center;">生成的随机数<strong>不是</strong>像普通骰子那样的整数。为此请使用 <code>math.die_roll_integer</code></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.die_roll_integer(num, low, high)</code></td><td style="text-align:center;">返回<code>num</code>个随机整数的总和，每个整数的值从低到高。</td><td style="text-align:center;">生成的随机数是类似于正常骰子的整数</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.hermite_blend(value)</code></td><td style="text-align:center;">使用 Hermite 函数进行简单的平滑曲线插值：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><msup><mi>e</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><mo>×</mo><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><msup><mi>e</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">3\times value ^{2}-2\times value^{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center;">尽管任何有效的 float 都是有效的输入，但此功能在 [0,1] 范围内效果最佳</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.min_angle(value)</code></td><td style="text-align:center;">计算指定⻆度在 [-180, 180) 内的等效⻆度</td><td style="text-align:center;">如果输入的角度是转了很多圈之后的结果，这个函数就可以减去无用的圈数，直接输出 [-180, 180] 范围内的角度</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>math.randomi(value)</code></td><td style="text-align:center;">与 math.random_integer 相同</td><td style="text-align:center;">非标准命名，仅用于兼容原 geckolib</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.roll(value)</code></td><td style="text-align:center;">与 math.die_roll 相同</td><td style="text-align:center;">非标准命名，仅用于兼容原 geckolib</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.rolli(value)</code></td><td style="text-align:center;">与 math.die_roll_integer 相同</td><td style="text-align:center;">非标准命名，仅用于兼容原 geckolib</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>math.hermite(value)</code></td><td style="text-align:center;">与 math.hermite_blend 相同</td><td style="text-align:center;">非标准命名，仅用于兼容原 geckolib</td><td style="text-align:center;">1.1.5</td></tr></tbody></table><h3 id="query-部分" tabindex="-1"><a class="header-anchor" href="#query-部分"><span>query 部分</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>query.debug_output(arg1, arg2...)</code></td><td style="text-align:center;">输出消息⾄聊天框</td><td style="text-align:center;">仅在动画调试模式下有效</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.biome_has_all_tags(tag1, tag2...)</code></td><td style="text-align:center;">判断玩家所处群系是否包含所有指定的群系标签</td><td style="text-align:center;">由于 1.16 版本没有群系标签，所以只能在 1.18 以上的版本可⽤;<br>可以使用用 <code>locate</code> 指令查看当前所处群系标签</td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>query.biome_has_any_tag(tag1, tag2...)</code></td><td style="text-align:center;">判断玩家所处群系是否包含指定的群系标签中的任意⼀个</td><td style="text-align:center;">由于 1.16 版本没有群系标签，所以只能在 1.18 以上的版本可⽤;<br>可以使用用 <code>locate</code> 指令查看当前所处群系标签</td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>query.relative_block_has_all_tags</code><br><code>(xOffset, yOffset, zOffset, tag1, tag2...)</code></td><td style="text-align:center;">判断玩家附近某个⽅块是否包含所有指定的所有⽅块标签</td><td style="text-align:center;">前三个参数是以玩家下半身为中心点的，参数最大不得超过 8</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.relative_block_has_any_tag</code><br><code>(xOffset, yOffset, zOffset, tag1, tag2...)</code></td><td style="text-align:center;">判断玩家附近某个⽅块是否包含指定的⽅块标签中的任意⼀个</td><td style="text-align:center;">前三个参数是以玩家下半身为中心点的，参数最大不得超过 8</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.is_item_name_any</code><br><code>(slotType, id1, id2...)</code></td><td style="text-align:center;">判断玩家装备物品 id 是否为指定的物品 id 中的任意⼀个</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.equipped_item_all_tags</code><br><code>(slotType, tag1, tag2...)</code></td><td style="text-align:center;">判断玩家装备物品是否包含指定的所有物品标签</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.equipped_item_any_tag</code><br><code>(slotType, tag1, tag2...)</code></td><td style="text-align:center;">判断玩家装备物品是否包含指定的物品标签中的任意⼀个</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.position(value)</code></td><td style="text-align:center;">返回实体所处的位置坐标（精确到小数点后 14 位）</td><td style="text-align:center;"><code>0</code>: X 坐标<br><code>1</code>: Y 坐标<br><code>2</code>: Z 坐标</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.position_delta(value)</code></td><td style="text-align:center;">返回实体的位置坐标⾃上次更新动画以来的差值，与帧率有关</td><td style="text-align:center;"><code>0</code>: X 坐标<br><code>1</code>: Y 坐标<br><code>2</code>: Z 坐标</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.max_durability(slotType)</code></td><td style="text-align:center;">返回指定槽位物品的最⼤耐久</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>query.remaining_durability</code><br><code>(slotType)</code></td><td style="text-align:center;">返回指定槽位物品的剩余耐久</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>query.actor_count</code></td><td style="text-align:center;">返回已加载范围内的实体数量</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.anim_time</code></td><td style="text-align:center;">当前动画播放时间（秒），如果动画未播放则为 0</td><td style="text-align:center;">是动画时间轴，输出单位是秒。<br>循环动画则是播放总时长，长度无限制</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.life_time</code></td><td style="text-align:center;">当前动画播放了多久（秒），如果动画未播放则为 0</td><td style="text-align:center;">是动画生存时间，最大长度是当前动画长度</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.all_animations_finished</code></td><td style="text-align:center;">当前控制器内所有的动画都播放完毕了</td><td style="text-align:center;">仅能用于动画控制器内</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>query.any_animation_finished</code></td><td style="text-align:center;">当前控制器内任意一个动画播放完毕了</td><td style="text-align:center;">仅能用于动画控制器内</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>query.head_x_rotation</code></td><td style="text-align:center;">返回玩家头部 X 旋转⻆度，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.head_y_rotation</code></td><td style="text-align:center;">返回玩家头部 Y 旋转⻆度，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.moon_phase</code></td><td style="text-align:center;">返回当前⽉相（0-7）</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.time_of_day</code></td><td style="text-align:center;">返回⼀天中的时间</td><td style="text-align:center;">午夜=0，⽇出=0.25<br>正午=0.5，⽇落=0.75</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.time_stamp</code></td><td style="text-align:center;">返回当前所处世界的时间戳</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.yaw_speed</code></td><td style="text-align:center;">返回实体 Y ⻆度旋转时的速度</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.cardinal_facing_2d</code></td><td style="text-align:center;">返回玩家朝向</td><td style="text-align:center;">忽略上下朝向，北=2.0，南=3.0，西=4.0，东=5.0</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.distance_from_camera</code></td><td style="text-align:center;">返回玩家和镜头之间的距离</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.eye_target_x_rotation</code></td><td style="text-align:center;">返回玩家视⻆ X 旋转⻆度，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.eye_target_y_rotation</code></td><td style="text-align:center;">返回玩家视⻆ Y 旋转⻆度，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.ground_speed</code> <span class="vp-annotation ignore-header client" data-v-6eb215f5><span aria-label="client" class="vpi-annotation" data-v-6eb215f5></span><!----></span></td><td style="text-align:center;">返回玩家速度<br>该数值在服务端无法同步，需使用 <code>ysm.ground_speed</code></td><td style="text-align:center;">该值没有负数值，即使人物后退也会输出正值，无法根据人物行进方向不同做出响应；<br>行走值大约为 1.7，跑动值大约为 3.2，飞行值为 20</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.modified_distance_moved</code></td><td style="text-align:center;">玩家⽔平移动距离的总数（⽶）</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.vertical_speed</code></td><td style="text-align:center;">返回玩家移动中垂直分量的速度（⽶/秒），朝上移动为正数</td><td style="text-align:center;">创造模式飞行：[-7.5,7.5]<br>高处掉落：[0,20]</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.walk_distance</code></td><td style="text-align:center;">返回玩家步⾏移动距离的总数（⽶）</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.has_rider</code></td><td style="text-align:center;">玩家被骑乘时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_first_person</code></td><td style="text-align:center;">玩家处于第⼀⼈称视⻆时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_in_water</code></td><td style="text-align:center;">玩家在⽔中时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_in_water_or_rain</code></td><td style="text-align:center;">玩家在⽔中或⾬中时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_on_fire</code></td><td style="text-align:center;">玩家着⽕时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_on_ground</code></td><td style="text-align:center;">玩家在地⾯时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_riding</code></td><td style="text-align:center;">玩家骑乘时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_sneaking</code></td><td style="text-align:center;">玩家潜⾏时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_spectator</code></td><td style="text-align:center;">玩家是观察者模式时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_sprinting</code></td><td style="text-align:center;">玩家疾跑时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_swimming</code></td><td style="text-align:center;">玩家游泳时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.body_x_rotation</code></td><td style="text-align:center;">返回玩家⾝体 X 旋转⻆度，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.body_y_rotation</code></td><td style="text-align:center;">返回玩家⾝体 Y 旋转⻆度，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.health</code></td><td style="text-align:center;">返回玩家⾎量</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.max_health</code></td><td style="text-align:center;">返回玩家最⼤⾎量</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.hurt_time</code></td><td style="text-align:center;">玩家受伤计时，默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_eating</code></td><td style="text-align:center;">玩家正在进⻝时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_playing_dead</code></td><td style="text-align:center;">玩家濒死状态时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_sleeping</code></td><td style="text-align:center;">玩家睡觉时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_using_item</code></td><td style="text-align:center;">玩家正在使⽤物品时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.item_in_use_duration</code></td><td style="text-align:center;">从 0 开始持续计数，直到该物品的最⼤可使⽤时⻓（秒），默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.item_max_use_duration</code></td><td style="text-align:center;">所使⽤的物品的最⼤可使⽤时⻓（秒），默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.item_remaining</code><br><code>_use_duration</code></td><td style="text-align:center;">所使⽤的物品的剩余可使⽤时⻓（秒），默认为 0</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.equipment_count</code></td><td style="text-align:center;">返回玩家装备的护甲数量（0-4），不考虑⼿持物品</td><td style="text-align:center;">整数，根据玩家护甲数量变动，最大为 4</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.has_cape</code></td><td style="text-align:center;">玩家有披⻛时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.cape_flap_amount</code></td><td style="text-align:center;">返回披⻛飘起的程度，即使玩家没穿披⻛也有效</td><td style="text-align:center;">0 为完全垂下，1 完全飘起<br>返回数据非常奇怪，不推荐使用</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>query.player_level</code></td><td style="text-align:center;">返回玩家等级</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.is_jumping</code></td><td style="text-align:center;">玩家跳跃时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>query.rotation_to_camera(args)</code></td><td style="text-align:center;">返回玩家摄像机视角的 yaw 和 pitch</td><td style="text-align:center;"><code>args</code> 参数为数字 0 或 1 <br> 0 为 pitch（俯仰）<br> 1 为 yaw（偏航）</td><td style="text-align:center;">2.6.0</td></tr></tbody></table><h3 id="ysm-实体部分" tabindex="-1"><a class="header-anchor" href="#ysm-实体部分"><span>ysm 实体部分</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ysm.dump_equipped_item(slotType)</code></td><td style="text-align:center;">输出玩家已装备物品的信息⾄聊天框<br>仅在动画调试模式下有效</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.dump_relative_block</code><br><code>(xOffset, yOffset, zOffset)</code></td><td style="text-align:center;">输出玩家附近某个⽅块的信息⾄聊天框<br>仅在动画调试模式下有效</td><td style="text-align:center;">三个参数是以玩家下半身为中心点的，参数最大不得超过 8</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.dump_mods</code></td><td style="text-align:center;">输出已安装的模组信息⾄聊天框<br>仅在动画调试模式下有效</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.dump_effects</code></td><td style="text-align:center;">输出玩家附加的药⽔效果的信息⾄聊天框<br>仅在动画调试模式下有效</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.dump_biome</code></td><td style="text-align:center;">输出玩家所在群系的ID和标签到聊天框<br>仅在动画调试模式下有效</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.mod_version(modid)</code></td><td style="text-align:center;">返回客⼾端安装的指定模组的版本</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.equipped_enchantment</code><br><code>_level(slotType, id)</code></td><td style="text-align:center;">返回玩家已装备物品的指定附魔等级<br>2.5.0 及之后该方法可以传递多个 <code>id</code> 参数，返回所有的等级之和</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code> <code>mainhand</code> <code>offhand</code></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.effect_level(id)</code></td><td style="text-align:center;">返回玩家或箭⽮上附加的药⽔效果等级<br>2.5.0 及之后该方法可以传递多个 <code>id</code> 参数，返回所有的效果等级之和</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.relative_block_name</code><br><code>(xOffset, yOffset, zOffset)</code></td><td style="text-align:center;">返回玩家附近某个⽅块的 id</td><td style="text-align:center;">三个参数是以玩家下半身为中心点的，参数最大不得超过 8</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.head_yaw</code></td><td style="text-align:center;">与 query.head_x_rotation 相同</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.head_pitch</code></td><td style="text-align:center;">与 query.head_y_rotation 相同</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.weather</code></td><td style="text-align:center;">返回当前天⽓</td><td style="text-align:center;">0：晴天，1：⾬或雪，2：雷⾬或暴雪</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.dimension_name</code></td><td style="text-align:center;">返回当前维度 ID</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.fps</code></td><td style="text-align:center;">返回游戏帧率</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.input_vertical</code></td><td style="text-align:center;">获取玩家移动方向（前后）</td><td style="text-align:center;">前进时大于0，后退时小于0，静止不动时为 0</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ysm.input_horizontal</code></td><td style="text-align:center;">获取玩家移动方向（左右）</td><td style="text-align:center;">向右移动时大于0，向左移动时小于0，静止不动时为 0</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ysm.person_view</code></td><td style="text-align:center;">返回当前模型所处人称视角</td><td style="text-align:center;">第一人称：0，第三人称背面：1，第三人称正面：2；<br>应该能兼容越肩视角？</td><td style="text-align:center;">2.3.1</td></tr><tr><td style="text-align:center;"><code>ysm.is_passenger</code></td><td style="text-align:center;">与 query.is_riding 相同</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.is_sleep</code></td><td style="text-align:center;">与 query.is_sleeping 相同</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.is_sneak</code></td><td style="text-align:center;">与 query.is_sneaking 相同</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.biome_category</code></td><td style="text-align:center;">获取玩家所处群系的类别</td><td style="text-align:center;">仅在 1.16.5 和 1.18.2 可以使⽤</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.is_open_air</code></td><td style="text-align:center;">判断玩家是否处于露天区域</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.eye_in_water</code></td><td style="text-align:center;">判断眼部是否在⽔下，⽤来判断玩家是否完全浸⼊⽔中</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.frozen_ticks</code></td><td style="text-align:center;">当玩家与细雪接触时，此数值每刻增加 1 ，最大 140。不接触时每刻减少 2，直到归零</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.air_supply</code></td><td style="text-align:center;">空⽓值，最⼤ 300</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.has_helmet</code></td><td style="text-align:center;">玩家穿戴头盔时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_chest_plate</code></td><td style="text-align:center;">玩家穿戴胸甲时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_leggings</code></td><td style="text-align:center;">玩家穿戴护腿时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_boots</code></td><td style="text-align:center;">玩家穿戴靴⼦时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_mainhand</code></td><td style="text-align:center;">玩家主⼿持有物品时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_offhand</code></td><td style="text-align:center;">玩家副⼿持有物品时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_elytra</code></td><td style="text-align:center;">玩家穿戴鞘翅时返回 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.is_riptide</code></td><td style="text-align:center;">玩家处于激流状态时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.armor_value</code></td><td style="text-align:center;">返回玩家护甲值</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.is_close_eyes</code></td><td style="text-align:center;">默认为 false，当玩家需要眨眼返回 true</td><td style="text-align:center;">眨眼频率大约在 4 秒左右。睡觉时也会返回 true</td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.rendering_in_inventory</code></td><td style="text-align:center;">判断模型是否在 GUI 中渲染（例如：模型选择界面）<br>当模型在这些地方渲染时返回 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.rendering_in_paperdoll</code></td><td style="text-align:center;">判断模型是否在纸娃娃中渲染</td><td style="text-align:center;">纸娃娃指的就是左上角那个额外玩家渲染</td><td style="text-align:center;">2.3.1</td></tr><tr><td style="text-align:center;"><code>ysm.on_ladder</code></td><td style="text-align:center;">布尔值，⽤来判断实体是否在梯⼦上</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.ladder_facing</code></td><td style="text-align:center;">实体所爬的梯⼦朝向</td><td style="text-align:center;">输出数字 0-3，分别对应：南-西-北-东</td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.arrow_count</code></td><td style="text-align:center;">玩家插在⾝上的箭的数量</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.stinger_count</code></td><td style="text-align:center;">玩家插在⾝上的蜜蜂的毒刺的数量</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.texture_name</code></td><td style="text-align:center;">返回玩家正在使⽤的材质名称（含扩展名）</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.elytra_rot_x</code></td><td style="text-align:center;">返回玩家鞘翅的 X 旋转⻆度</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.elytra_rot_y</code></td><td style="text-align:center;">返回玩家鞘翅的 Y 旋转⻆度</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.elytra_rot_z</code></td><td style="text-align:center;">返回玩家鞘翅的 Z 旋转⻆度</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.food_level</code></td><td style="text-align:center;">返回玩家饱食度</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.first_person_mod_hide</code></td><td style="text-align:center;">当玩家安装更真实的第一人称模型模组，且需要隐藏玩家头部时为 true，否者为 false</td><td style="text-align:center;"></td><td style="text-align:center;">1.1.5</td></tr><tr><td style="text-align:center;"><code>ysm.has_left_shoulder_parrot</code></td><td style="text-align:center;">判断玩家左肩是否有鹦鹉停靠</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.has_right_shoulder_parrot</code></td><td style="text-align:center;">判断玩家右肩是否有鹦鹉停靠</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.left_shoulder</code><br><code>_parrot_variant</code></td><td style="text-align:center;">返回玩家左肩的鹦鹉变种</td><td style="text-align:center;">1.19 及以前版本没有字符串形式的鹦鹉颜色变种，故此变量仅能用于 1.20 及以后版本</td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.right_shoulder</code><br><code>_parrot_variant</code></td><td style="text-align:center;">返回玩家右肩的鹦鹉变种</td><td style="text-align:center;">1.19 及以前版本没有字符串形式的鹦鹉颜色变种，故此变量仅能用于 1.20 及以后版本</td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.attack_damage</code></td><td style="text-align:center;">玩家的攻击伤害，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.attack_speed</code></td><td style="text-align:center;">玩家的攻击速度，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.attack_knockback</code></td><td style="text-align:center;">玩家的攻击击退效果，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.movement_speed</code></td><td style="text-align:center;">玩家的基础移动加速度，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.knockback_resistance</code></td><td style="text-align:center;">玩家的击退抗性，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.luck</code></td><td style="text-align:center;">玩家的幸运值，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.block_reach</code></td><td style="text-align:center;">玩家的方块触及距离，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.entity_reach</code></td><td style="text-align:center;">玩家的实体触及距离，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.swim_speed</code></td><td style="text-align:center;">玩家的游泳速度，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.entity_gravity</code></td><td style="text-align:center;">玩家所受的重力，即下落加速度，继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.step_height_addition</code></td><td style="text-align:center;">玩家不用跳跃可以直接走过的最大高度与玩家潜行时不会走下方块的最小高度差， 继承自玩家属性</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.nametag_distance</code></td><td style="text-align:center;">命名牌的可见距离</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.1</td></tr><tr><td style="text-align:center;"><code>ysm.first_order(name, input, response)</code></td><td style="text-align:center;">一阶系统函数</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ysm.second_order(name, input, frequency, coefficient, response)</code></td><td style="text-align:center;">二阶系统函数</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ysm.bone_rot(name).x</code></td><td style="text-align:center;">获取特定组名的上一帧X轴旋转值</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_rot(name).y</code></td><td style="text-align:center;">获取特定组名的上一帧Y轴旋转值</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_rot(name).z</code></td><td style="text-align:center;">获取特定组名的上一帧Z轴旋转值</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_pos(name).x</code></td><td style="text-align:center;">获取特定组名在模型相对空间的X轴位置</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_pos(name).y</code></td><td style="text-align:center;">获取特定组名在模型相对空间的Y轴位置</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_pos(name).z</code></td><td style="text-align:center;">获取特定组名在模型相对空间的Z轴位置</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_scale(name).x</code></td><td style="text-align:center;">获取特定组名的上一帧X轴缩放值</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_scale(name).y</code></td><td style="text-align:center;">获取特定组名的上一帧Y轴缩放值</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_scale(name).z</code></td><td style="text-align:center;">获取特定组名的上一帧Z轴缩放值</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_pivot_abs(name).x</code></td><td style="text-align:center;">获取特定组名在模型绝对空间的X轴位置</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_pivot_abs(name).y</code></td><td style="text-align:center;">获取特定组名在模型绝对空间的Y轴位置</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.bone_pivot_abs(name).z</code></td><td style="text-align:center;">获取特定组名在模型绝对空间的Z轴位置</td><td style="text-align:center;"></td><td style="text-align:center;">2.2.2</td></tr><tr><td style="text-align:center;"><code>ysm.entity_type</code></td><td style="text-align:center;">返回当前渲染实体的类型，因为现在渲染不仅仅可以用于玩家</td><td style="text-align:center;">返回 <code>player</code> 或者 <code>maid</code></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.is_player</code></td><td style="text-align:center;">当前渲染对象是否是玩家</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.is_maid</code></td><td style="text-align:center;">当前渲染对象是否是女仆</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.particle(&#39;id&#39;, x, y, z, dx, dy, dz, speed, count, life_time)</code></td><td style="text-align:center;">生成粒子，该函数参数和原版 <code>particle</code> 指令参数完全一致，仅仅多出了 <code>life_time</code> 参数</td><td style="text-align:center;">可参考官方 wiki：<a href="https://zh.minecraft.wiki/w/%E5%91%BD%E4%BB%A4/particle" target="_blank" rel="noopener noreferrer">粒子指令</a></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.abs_particle(&#39;id&#39;, x, y, z, dx, dy, dz, speed, count, life_time)</code></td><td style="text-align:center;">生成粒子，该函数参数和原版 <code>particle</code> 指令参数完全一致，仅仅多出了 <code>life_time</code> 参数</td><td style="text-align:center;">该函数生成的粒子不会随玩家朝向而改变位置，可以理解为绝对坐标生成粒子</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.mainhand_charged_crossbow</code></td><td style="text-align:center;">主手是否持有充能弩箭</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.offhand_charged_crossbow</code></td><td style="text-align:center;">副手是否持有充能弩箭</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.is_fishing</code></td><td style="text-align:center;">玩家是否在抛出鱼漂</td><td style="text-align:center;">也适用于女仆</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.perlin_noise(seed, x, y, z)</code></td><td style="text-align:center;">柏林噪声函数，返回一个 0-1 之间的浮点数</td><td style="text-align:center;">可以看看可汗学院的这个教程：<a href="https://zh.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-noise/a/perlin-noise" target="_blank" rel="noopener noreferrer">柏林噪声</a></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>ysm.relative_block_name_any</code><br><code>(xOffset, yOffset, zOffset, &#39;blockName1&#39;, &#39;blockName2&#39;...)</code></td><td style="text-align:center;">和 <code>ysm.relative_block_name</code> 类似，不过可以传入多个方块 ID 字符串。</td><td style="text-align:center;">只要有一个 ID 匹配，即返回 true</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.in_shield_block_cooldown</code></td><td style="text-align:center;">布尔值变量，当前是否处于盾牌成功格挡的冷却时间内</td><td style="text-align:center;">冷却时间持续 5 tick</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.xxa</code><br><code>ysm.yya</code><br><code>ysm.zza</code></td><td style="text-align:center;">当玩家骑乘实体时，玩家按下前后左右键时，该变量分别有对应数值</td><td style="text-align:center;">前后为 <code>ysm.xxa</code><br>左右为 <code>ysm.yya</code><br><code>ysm.zza</code> 不知何用，上下移动未见数值变化</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.play_sound(&#39;id&#39;, &#39;sound_name&#39;, flags?, volume, pitch)</code><span class="vp-annotation ignore-header new_sound" data-v-6eb215f5><span aria-label="new_sound" class="vpi-annotation" data-v-6eb215f5></span><!----></span></td><td style="text-align:center;">播放音频，<code>id</code>为该音频的标识，<code>sound_name</code> 写法和音频关键帧动画里的写法一致。<br><code>flags</code> 为特殊标志位</td><td style="text-align:center;">当设置为强制播放时，每次执行都会把先前同 ID 的音频停掉，然后重头播放。</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.stop_sound(&#39;id&#39;, global?)</code><span class="vp-annotation ignore-header new_sound" data-v-6eb215f5><span aria-label="new_sound" class="vpi-annotation" data-v-6eb215f5></span><!----></span></td><td style="text-align:center;">停止音频，<code>id</code>为该音频的标识</td><td style="text-align:center;"></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.stop_all_sounds(global?)</code><span class="vp-annotation ignore-header new_sound" data-v-6eb215f5><span aria-label="new_sound" class="vpi-annotation" data-v-6eb215f5></span><!----></span></td><td style="text-align:center;">停止所有 molang 添加而播放的音频</td><td style="text-align:center;"></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.block_light</code></td><td style="text-align:center;">脚下方块亮度</td><td style="text-align:center;">0-15</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.sky_light</code></td><td style="text-align:center;">脚下方块受到天空所贡献的亮度</td><td style="text-align:center;">0-15，完全露天为 15</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.mouse(keycode)</code> <span class="vp-annotation ignore-header client" data-v-6eb215f5><span aria-label="client" class="vpi-annotation" data-v-6eb215f5></span><!----></span></td><td style="text-align:center;">检测鼠标按键情况</td><td style="text-align:center;">填入键码<a href="https://www.glfw.org/docs/latest/group__buttons.html" target="_blank" rel="noopener noreferrer">鼠标按键对应的数字</a></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.keyboard(keycode1, keycode2, ...)</code> <span class="vp-annotation ignore-header client" data-v-6eb215f5><span aria-label="client" class="vpi-annotation" data-v-6eb215f5></span><!----></span></td><td style="text-align:center;">检测键盘按键情况</td><td style="text-align:center;">填入键码<a href="https://www.glfw.org/docs/latest/group__keys.html" target="_blank" rel="noopener noreferrer">按键对应的数字</a>。支持 1 至多个参数。<br>当写入多个参数时，只要有一个按键按下，则返回 true</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.time_delta</code></td><td style="text-align:center;">两帧之间的时间间隔</td><td style="text-align:center;"></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.sync(int1, int2, ...)</code></td><td style="text-align:center;">主动向服务器同步数据，参考后续自定义函数篇章的说明</td><td style="text-align:center;"></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.ground_speed2</code></td><td style="text-align:center;">返回玩家速度</td><td style="text-align:center;">该值和上面的 <code>query.ground_speed</code> 都是人物的速度。但是此值可以在服务端玩家之间同步<br>此方法返回数值和上面的变量有所不同，数值稍大</td><td style="text-align:center;">2.5.1</td></tr><tr><td style="text-align:center;"><code>ysm.hit_target_id</code></td><td style="text-align:center;">返回鼠标指针指向的方块或实体 ID</td><td style="text-align:center;">不指向任何方块或者实体时，返回空字符串</td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ysm.hit_target_type</code></td><td style="text-align:center;">返回鼠标指针指向的目标类型</td><td style="text-align:center;">方块返回 <code>block</code> <br> 实体返回 <code>entity</code> <br> 不指向任何方块或者实体时，返回空字符串</td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ysm.swinging</code></td><td style="text-align:center;">布尔值，当玩家挥动时，返回 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ysm.swing_time</code></td><td style="text-align:center;">整数，当玩家挥动时，返回挥动的计数，一般在 10 以内</td><td style="text-align:center;"></td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ysm.swinging_arm</code></td><td style="text-align:center;">挥动的手臂，主手为 0，副手为 1</td><td style="text-align:center;">当玩家没有挥动时，此方法固定返回 0，故需要配合 <code>ysm.swinging</code> 使用</td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ysm.attack_time</code></td><td style="text-align:center;">浮点数，攻击时前摇的计数器；0-1 之间，当为 1 时，触发攻击</td><td style="text-align:center;">可以简单理解为攻击前的前摇计数器</td><td style="text-align:center;">2.6.0</td></tr></tbody></table><h3 id="ysm-弹射物相关" tabindex="-1"><a class="header-anchor" href="#ysm-弹射物相关"><span>ysm 弹射物相关</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ysm.on_ground_time</code></td><td style="text-align:center;">箭矢掉在地上的时长（单位：刻）</td><td style="text-align:center;">游戏内箭矢会在落地后 1200 刻（60 秒）后消失<br>如果在此期间箭矢被移动则重置为 0</td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.in_ground</code></td><td style="text-align:center;">判断箭⽮是否掉在地上</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.projectile_owner</code></td><td style="text-align:center;">返回发射该箭⽮的玩家实体</td><td style="text-align:center;">可以使⽤ “箭头表达式” 查询其属性<br><mark>目前存在内存泄漏问题，不推荐使用</mark></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.delta_movement_length</code></td><td style="text-align:center;">获取箭⽮在两 tick 之间的位移⻓度，可以⽤来判断速度</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.is_spectral_arrow</code></td><td style="text-align:center;">判断箭⽮是否为光灵箭</td><td style="text-align:center;"></td><td style="text-align:center;">1.2.0</td></tr><tr><td style="text-align:center;"><code>ysm.shoot_item_id</code></td><td style="text-align:center;">射出此箭的物品 ID 是什么</td><td style="text-align:center;">可以用来区分普通弓和弩射出的箭</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ysm.throwable_item</code></td><td style="text-align:center;">物品类型投掷物的物品 ID</td><td style="text-align:center;"></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.hooked_in</code></td><td style="text-align:center;">鱼钩勾住的实体 ID</td><td style="text-align:center;">不存在时为空字符串</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.is_biting</code></td><td style="text-align:center;">鱼钩是否咬钩</td><td style="text-align:center;">布尔值</td><td style="text-align:center;">2.5.0</td></tr></tbody></table><h3 id="ctrl-部分" tabindex="-1"><a class="header-anchor" href="#ctrl-部分"><span>Ctrl 部分</span></a></h3><p>这部分主要用于动画控制器</p><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ctrl.death</code></td><td style="text-align:center;">死亡时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.riptide</code></td><td style="text-align:center;">使用三叉戟，触发激流时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.sleep</code></td><td style="text-align:center;">睡觉时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.swim</code></td><td style="text-align:center;">游泳时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.climb</code></td><td style="text-align:center;">趴下并移动时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.climbing</code></td><td style="text-align:center;">趴下不移动时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.ladder_up</code></td><td style="text-align:center;">梯子上上爬时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.ladder_stillness</code></td><td style="text-align:center;">梯子上定住时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.ladder_down</code></td><td style="text-align:center;">梯子上下滑时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.fly</code></td><td style="text-align:center;">飞行时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.elytra_fly</code></td><td style="text-align:center;">鞘翅飞行时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.swim_stand</code></td><td style="text-align:center;">站立式游泳时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.attacked</code></td><td style="text-align:center;">被攻击时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.jump</code></td><td style="text-align:center;">跳跃时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.sneak</code></td><td style="text-align:center;">潜行移动时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.sneaking</code></td><td style="text-align:center;">潜行不移动时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.run</code></td><td style="text-align:center;">跑步时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.walk</code></td><td style="text-align:center;">行走时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.idle</code></td><td style="text-align:center;">待命时为 true</td><td style="text-align:center;"></td><td style="text-align:center;">2.3.1</td></tr><tr><td style="text-align:center;"><code>ctrl.hold(slotType, id)</code></td><td style="text-align:center;">用法：<code>ctrl.hold(&#39;mainhand&#39;, &#39;$minecraft:apple&#39;)</code></td><td style="text-align:center;">slotType 参数有：<code>mainhand</code> <code>offhand</code><br>第二个参数和原来动画命名有点类似，<code>$</code>物品ID，<code>#</code>物品tag，<code>:</code>特殊类别</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.swing(slotType, id)</code></td><td style="text-align:center;">用法：<code>ctrl.swing(&#39;offhand&#39;, &#39;#minecraft:axes&#39;)</code></td><td style="text-align:center;">slotType 参数有：<code>mainhand</code> <code>offhand</code><br>第二个参数和原来动画命名有点类似，<code>$</code>物品ID，<code>#</code>物品tag，<code>:</code>特殊类别</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.use(slotType, id)</code></td><td style="text-align:center;">用法：<code>ctrl.use(&#39;offhand&#39;, &#39;:eat&#39;)</code></td><td style="text-align:center;">slotType 参数有：<code>mainhand</code> <code>offhand</code><br>第二个参数和原来动画命名有点类似，<code>$</code>物品ID，<code>#</code>物品tag，<code>:</code>特殊类别</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.armor(slotType, id)</code></td><td style="text-align:center;">用法：<code>ctrl.armor(&#39;head&#39;, &#39;$minecraft:iron_helmet&#39;)</code><br>第一个参数有：feet, legs, chest, head</td><td style="text-align:center;">slotType 参数有：<code>chest</code> <code>feet</code> <code>head</code> <code>legs</code><br>第二个参数和原来动画命名有点类似，<code>$</code>物品ID，<code>#</code>物品tag，<code>:</code>特殊类别</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.ride(type, id)</code></td><td style="text-align:center;">用法：<code>ctrl.ride(&#39;vehicle&#39;, &#39;$minecraft:pig&#39;)</code><br><code>ctrl.ride(&#39;passenger&#39;, &#39;$minecraft:pig&#39;)</code></td><td style="text-align:center;">type 参数有：<code>vehicle</code> <code>passenger</code><br>第二个参数和原来动画命名有点类似，<code>$</code>物品ID，<code>#</code>物品tag，<code>:</code>特殊类别</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.playing_extra_animation</code></td><td style="text-align:center;">玩家是否在播放轮盘动画</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.5.0</td></tr></tbody></table><h3 id="tacz-部分" tabindex="-1"><a class="header-anchor" href="#tacz-部分"><span>TacZ 部分</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ctrl.tac_hold_gun</code></td><td style="text-align:center;">玩家是否主手持 tacz 的枪械</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_gun_type</code></td><td style="text-align:center;">玩家当前持有的枪械类型（步枪、手枪那些分类）</td><td style="text-align:center;">返回字符串<br>如果没有持枪，返回空字符串</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_gun_id</code></td><td style="text-align:center;">玩家当前持有的枪械 ID</td><td style="text-align:center;">返回字符串<br>如果没有持枪，返回空字符串</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_is_fire</code></td><td style="text-align:center;">玩家是否正在开火</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_is_aim</code></td><td style="text-align:center;">玩家是否正在瞄准</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_is_reload</code></td><td style="text-align:center;">玩家是否正在重载弹药</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_is_melee</code></td><td style="text-align:center;">玩家是否正在近战（刺刀）</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_is_draw</code></td><td style="text-align:center;">玩家是否正在切枪</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.tac_fire_mode</code></td><td style="text-align:center;">枪械的开火模式</td><td style="text-align:center;">返回字符串，一般为大写的 <code>AUTO</code>、<code>SEMI</code> 和 <code>BURST</code></td><td style="text-align:center;">2.6.0</td></tr></tbody></table><h3 id="沉浸式奏乐部分" tabindex="-1"><a class="header-anchor" href="#沉浸式奏乐部分"><span>沉浸式奏乐部分</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ctrl.im_current</code></td><td style="text-align:center;">当前电平强度，范围 <code>0~1</code></td><td style="text-align:center;"></td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ctrl.im_delta</code></td><td style="text-align:center;">距离上一次音符输出的时间间隔</td><td style="text-align:center;">单位：ms</td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ctrl.im_pitch</code></td><td style="text-align:center;">音高，常见范围 <code>0~2</code></td><td style="text-align:center;">具体取值由正在弹奏的音符决定</td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ctrl.im_volume</code></td><td style="text-align:center;">音符强度（力度），常见范围 <code>0~2</code></td><td style="text-align:center;"></td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ctrl.im_time</code></td><td style="text-align:center;">从开始演奏到当前的累计时间</td><td style="text-align:center;">单位：ms</td><td style="text-align:center;">2.6.0</td></tr></tbody></table><h3 id="其他模组部分" tabindex="-1"><a class="header-anchor" href="#其他模组部分"><span>其他模组部分</span></a></h3><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ctrl.carryon_type</code></td><td style="text-align:center;">玩家抱起的类型，有三种 <code>block</code> <code>entity</code> <code>player</code></td><td style="text-align:center;">返回字符串<br>如果没有抱起任何东西，返回空字符串</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.carryon_is_princess</code></td><td style="text-align:center;">玩家是否<strong>被</strong>抱起</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.parcool_state</code></td><td style="text-align:center;">返回当前正在执行的跑酷动作</td><td style="text-align:center;">返回字符串<br>如果没有执行任何跑酷动作，返回空字符串</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.swem_is_ride</code></td><td style="text-align:center;">玩家是否<strong>骑乘</strong> SWEM 的马</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.swem_state</code></td><td style="text-align:center;">玩家当前正在执行的马术动作</td><td style="text-align:center;">返回字符串<br>如果没有骑 SWEM 的马，返回空字符串</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.slashblade_animation</code></td><td style="text-align:center;">玩家当前打出的剑技名称</td><td style="text-align:center;">返回字符串<br>如果没有打出任何剑技，返回空字符串</td><td style="text-align:center;">2.3.0</td></tr><tr><td style="text-align:center;"><code>ctrl.create_hanging_skyhook</code></td><td style="text-align:center;">玩家是否在机械动力悬链上</td><td style="text-align:center;">返回布尔值</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ctrl.bcombat_attack_animation</code></td><td style="text-align:center;">Better Combat 的攻击动画</td><td style="text-align:center;">注意该动画不区分主副手和武器类型，需通过额外条件判断</td><td style="text-align:center;">2.6.0</td></tr><tr><td style="text-align:center;"><code>ctrl.iss_animation</code></td><td style="text-align:center;">铁魔法的施法动画</td><td style="text-align:center;">返回字符串</td><td style="text-align:center;">2.6.0</td></tr></tbody></table><h3 id="脚本控制器" tabindex="-1"><a class="header-anchor" href="#脚本控制器"><span>脚本控制器</span></a></h3><p>这些 molang 仅用于后续自定义函数篇章的脚本控制器里</p><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ctrl.set_beginning_</code><br><code>transition_length(second)</code></td><td style="text-align:center;">仅用于脚本控制器，<br>用于设置当前控制器的动画混合时间</td><td style="text-align:center;">接受 1 个参数，为动画的混合时间，单位为秒</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ctrl.set_animation(animation, loop_type)</code></td><td style="text-align:center;">仅用于脚本控制器，用于播放指定动画</td><td style="text-align:center;">接受 1~2 个参数，第一个参数为动画名称，第二个参数可选，为动画循环类型。若不指定循环类型，则使用动画预设的循环类型</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.state_continue</code><br><code>ysm.state_stop</code><br><code>ysm.state_pause</code><br><code>ysm.state_bypass</code></td><td style="text-align:center;">常量，仅用于脚本控制器</td><td style="text-align:center;">详见自定义函数部分</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.reset</code></td><td style="text-align:center;">无参数</td><td style="text-align:center;">立刻重置动画控制器至初始状态。若有动画正在播放，会粗暴的中止而不会平滑过渡。此外，该函数还包含了<code>ctrl.indicate_reload</code>的作用</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.indicate_reload</code></td><td style="text-align:center;">重载动画</td><td style="text-align:center;">和 <code>ysm.reset</code> 有点像，但是用于 <code>play_once</code> 或 <code>hold_on_last_frame</code> 这样的动画之前调用，用来重置让其再次进行播放。</td><td style="text-align:center;">2.5.0</td></tr></tbody></table><h3 id="tlm-部分" tabindex="-1"><a class="header-anchor" href="#tlm-部分"><span>TLM 部分</span></a></h3><p>这部分 molang 一般只能用于女仆</p><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>tlm.is_begging</code></td><td style="text-align:center;">女仆处于祈求状态时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.is_sitting</code></td><td style="text-align:center;">女仆处于待命状态时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.has_backpack</code></td><td style="text-align:center;">女仆背有背包时为 true，否则为 false</td><td style="text-align:center;"></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.favorability_point</code></td><td style="text-align:center;">女仆好感度点数</td><td style="text-align:center;">返回值：0-384</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.favorability_level</code></td><td style="text-align:center;">女仆好感度等级</td><td style="text-align:center;">返回值：0-384</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.task_id</code></td><td style="text-align:center;">女仆工作模式 id</td><td style="text-align:center;">是字符串</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.schedule</code></td><td style="text-align:center;">女仆工作日程</td><td style="text-align:center;">返回值：<code>day</code>、<code>night</code>、<code>all</code><br>分别对应：白班、夜班、全天</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.activity</code></td><td style="text-align:center;">女仆当前活动</td><td style="text-align:center;">返回值：<code>work</code>、<code>idle</code>、<code>reset</code><br>分别对应：上班、下班、睡觉</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.gomoku_win_count</code></td><td style="text-align:center;">女仆五子棋赢棋总回合数</td><td style="text-align:center;">目前仅记录了五子棋</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.gomoku_rank</code></td><td style="text-align:center;">女仆五子棋段位</td><td style="text-align:center;">1-4，<mark>没有 0</mark></td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.game_statue</code></td><td style="text-align:center;">棋局状态</td><td style="text-align:center;">返回值：<code>win</code>、<code>lost</code>或者空字符串</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.backpack_type</code></td><td style="text-align:center;">女仆背包 ID</td><td style="text-align:center;">女仆可以装备多种类型的背包</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.is_entity</code></td><td style="text-align:center;">渲染女仆实体</td><td style="text-align:center;">女仆可以被做成雕像、手办，这个变量就用来区分这几者</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.is_statue</code></td><td style="text-align:center;">渲染雕像</td><td style="text-align:center;">女仆可以被做成雕像、手办，这个变量就用来区分这几者</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.is_garage_kit</code></td><td style="text-align:center;">渲染手办</td><td style="text-align:center;">女仆可以被做成雕像、手办，这个变量就用来区分这几者</td><td style="text-align:center;">2.4.0</td></tr><tr><td style="text-align:center;"><code>tlm.show_item</code></td><td style="text-align:center;">女仆装饰槽位的物品 ID</td><td style="text-align:center;">女仆物品栏的最后一格会有特殊显示，这个就记录了物品栏最后一格的物品 ID</td><td style="text-align:center;">2.4.0</td></tr></tbody></table><h3 id="饰品部分" tabindex="-1"><a class="header-anchor" href="#饰品部分"><span>饰品部分</span></a></h3><p>这部分 molang 用于饰品 MOD 相关</p><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">描述</th><th style="text-align:center;">备注</th><th style="text-align:center;">适用版本</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ysm.has_any_curios(type, name...)</code></td><td style="text-align:center;">判断指定饰品槽是否佩戴了指定的饰品中的任意一个<br>type 为饰品槽类型，name 为物品id（支持任意数量，不止一个），下同</td><td style="text-align:center;">name 这个字段可以不填写，此时仅检测饰品槽是否为空</td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.has_any_curios_with_all_tags(type, tag...)</code></td><td style="text-align:center;">判断指定饰品槽是否佩戴了任意一个饰品有给定的<strong>所有</strong>标签</td><td style="text-align:center;">返回布尔值<br>注意函数名称结尾带有<code>s</code></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.has_any_curios_with_any_tag(type, tag...)</code></td><td style="text-align:center;">判断指定饰品槽是否佩戴了任意一个饰品有给定的<strong>任意一个</strong>标签</td><td style="text-align:center;">返回布尔值<br>注意函数名称结尾不带 <code>s</code></td><td style="text-align:center;">2.5.0</td></tr><tr><td style="text-align:center;"><code>ysm.dump_curios</code></td><td style="text-align:center;">输出当前玩家佩戴的饰品信息。仅在动画调试模式下有效。</td><td style="text-align:center;">玩家当前穿戴饰品的所有信息</td><td style="text-align:center;">2.5.0</td></tr></tbody></table><h4 id="注意" tabindex="-1"><a class="header-anchor" href="#注意"><span>注意</span></a></h4><ul><li>forge/neoforge 端饰品模组为 Curios；</li><li>fabric 端饰品模组为 Trinkets；</li><li>两端的饰品槽类型（即 <code>type</code> 字段）不同，需要单独适配。 <ul><li>Curios 可参考 <a href="https://docs.illusivesoulworks.com/curios/slots/preset-slots#slot-types" target="_blank" rel="noopener noreferrer">官方文档</a> 的 <code>Identifier</code> 字段；</li><li>Trinkets 可参考 <a href="https://github.com/emilyploszaj/trinkets/wiki/Default-Slots" target="_blank" rel="noopener noreferrer">官方文档</a> 的 <code>Slot</code> 部分。</li></ul></li></ul></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-23f6ad98 data-v-7138e2cb><!--[--><!--]--><div class="edit-info" data-v-7138e2cb><div class="edit-link" data-v-7138e2cb><a class="vp-link link no-icon edit-link-button" href="https://github.com/YesSteveModel/YSM-Wiki-Issues/edit/main/docs/notes/wiki/molang/molang参考表.md" target="_blank" rel="noreferrer" data-v-7138e2cb><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-7138e2cb></span> 编辑此页<!--]--><!----></a></div><!----></div><div class="contributors" aria-label="Contributors" data-v-7138e2cb><span class="contributors-label" data-v-7138e2cb>贡献者: </span><span class="contributors-info" data-v-7138e2cb><!--[--><!--[--><span class="contributor" data-v-7138e2cb>tartaric_acid</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-7138e2cb>KLuoNuoYa</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-7138e2cb>homewool</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-7138e2cb><div class="pager" data-v-7138e2cb><a class="vp-link link pager-link prev" href="/wiki/molang/common/" data-v-7138e2cb><!--[--><span class="desc" data-v-7138e2cb>上一页</span><span class="title" data-v-7138e2cb>常用 molang 集合</span><!--]--><!----></a></div><div class="pager" data-v-7138e2cb><a class="vp-link link pager-link next" href="/wiki/molang/misc/" data-v-7138e2cb><!--[--><span class="desc" data-v-7138e2cb>下一页</span><span class="title" data-v-7138e2cb>molang 杂项内容</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:none;" data-v-23f6ad98><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-f73ca3da data-v-bcf8d9a6><span class="percent" data-allow-mismatch data-v-bcf8d9a6>0%</span><span class="show icon vpi-back-to-top" data-v-bcf8d9a6></span><svg aria-hidden="true" data-v-bcf8d9a6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-bcf8d9a6></circle></svg></button><svg style="display:none;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="sign down" class="vp-sign-down" aria-hidden="true" data-v-f73ca3da data-v-900978de><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" data-v-900978de><path d="m19 11l-7 6l-7-6" data-v-900978de></path><path d="m19 5l-7 6l-7-6" opacity="0.6" data-v-900978de></path></g></svg><footer class="vp-footer has-sidebar" vp-footer data-v-f73ca3da data-v-400675cf><!--[--><div class="container" data-v-400675cf><p class="message" data-v-400675cf>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-Cr4mnnBX.js" defer></script></body></html>