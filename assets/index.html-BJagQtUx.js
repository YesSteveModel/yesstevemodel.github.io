import{_ as i,c as l,a as o,o as t}from"./app-Cp3LFcV5.js";const c={};function a(d,e){return t(),l("div",null,[...e[0]||(e[0]=[o('<blockquote><p>本来按照惯例，此版本应该叫 1.2.1 的，但是会造成很大的混淆，故直接把版本号定为 2.2.1</p></blockquote><h2 id="功能更新与修复" tabindex="-1"><a class="header-anchor" href="#功能更新与修复"><span>功能更新与修复</span></a></h2><ul><li><p>全面换用新的模型文件结构，添加模型清单文件 <code>ysm.json</code> 统一管理：</p><ul><li>支持设置默认材质和材质文件的展示顺序；</li><li>支持设置预览动画，在模型选择界面播放（旧版统一为 idle）；</li><li>支持自定义 Extra 动画的数量、顺序、名称（不再限制为 extra+数字）；</li><li>支持读取模型目录内的子目录文件。</li><li>支持插入作者信息，并分配头像、角色、简介、联系方式</li><li>支持插入主页和捐赠网页信息</li><li>支持 PBR 材质指定 <blockquote><p>具体内容请看 <code>ysm.json</code> 说明文件</p></blockquote></li></ul></li><li><p>解除模型和材质的文件名限制，现在能够支持任意字符了（包括中文）；</p></li><li><p>默认模型格式全部修改为新版类型</p></li><li><p>现在套多层子文件夹（最大 16 层）也能够智能读取其下的所有模型了，无论是文件夹形式、ysm 格式或者是 zip 格式的。</p></li><li><p>支持读取版本高于 1.12.0 的基岩版模型；</p></li><li><p>小幅提高读取模型的性能；</p></li><li><p>支持读取更多形式的关键帧，修复了部分旧模型读取失败的问题；</p></li><li><p>修复 molang 作用域定界表达式的求值异常问题</p></li><li><p>修复部分情况下意外播放 Extra 动画的问题；</p></li><li><p>添加模型统计信息；</p></li><li><p>模型切换界面可以保留页数记录（不用每次都翻页了）；</p></li><li><p>添加模型详情界面，显示作者列表，捐赠和主页网址跳转按钮；</p></li><li><p>修复动画预览时头部的异常旋转问题；</p></li><li><p>以<code>——</code>开头名称的注释动画不显示；</p></li><li><p>没有语言文件的动画按钮文本直接显示动画名，而不是显示语言文件 key</p></li><li><p>【Forge】修复了仅客户端模式下无法中止 Extra 动画的问题；</p></li><li><p>【Forge】修复了某些情况下进入游戏时报错空指针的问题；</p></li><li><p>【Fabric】重构网络系统，与 Forge 端统一（现在两个端可以互通）；</p></li></ul><h2 id="模组兼容" tabindex="-1"><a class="header-anchor" href="#模组兼容"><span>模组兼容</span></a></h2><ul><li>【Forge】 添加对拔刀剑：重锋模组的兼容</li><li>【Forge】 添加 TACZ 的兼容，几乎和旧版本对 TAC 的效果一致，并且也支持枪械 ID 形式的动画。其中 1.18.2 同时添加了对 TAC 和 TACZ 的兼容。</li><li>【Forge】 适配 oculus 1.7.0；并添加对 Oculus PBR 的支持。</li><li>【Forge】 适配时装工坊的盔甲和鞘翅插槽；</li></ul><h2 id="动画与-molang" tabindex="-1"><a class="header-anchor" href="#动画与-molang"><span>动画与 molang</span></a></h2><ul><li><p>修正酒狐模型，并添加对 1.21 重锤的动画支持</p></li><li><p>更新默认模型；</p></li><li><p>【Forge 1.20】修复了 <code>ysm.relative_block_name</code> 结果不正确的问题；</p></li><li><p>现在轮盘动画支持任意多个额外动画，使用滚轮翻页。按下 Z 键也能关闭界面</p></li><li><p>修正 <code>q.body_y_rotation</code> 不正确的问题</p></li><li><p>添加默认支持的爬梯动画，分为三个：<code>ladder_up</code>、<code>ladder_stillness</code>、<code>ladder_down</code></p></li><li><p>添加爬梯相关 molang 变量：</p><ol><li><code>ysm.on_ladder</code>，布尔值，用来判断实体是否在梯子上</li><li><code>ysm.ladder_facing</code> 梯子朝向，输出数字 0-3，分别对应：南-西-北-东</li></ol></li><li><p>添加对原版鹦鹉的渲染支持（通过定位组 <code>LeftShoulderLocator</code>，<code>RightShoulderLocator</code>）</p></li><li><p>添加了原版鹦鹉相关 molang 变量：</p><ol><li><code>has_left_shoulder_parrot</code>, <code>has_right_shoulder_parrot</code></li><li><code>left_shoulder_parrot_variant</code>，<code>right_shoulder_parrot_variant</code>：鹦鹉颜色变种</li></ol></li><li><p>添加骑乘和被骑乘的动画设计，可以放在任意动画文件中</p><ul><li>vehicle 表示载具，后面输入实体 ID。比如玩家骑在史莱姆上，那么动画名就是<code>vehicle$minecraft:slime</code></li><li>passenger 表示乘客，也就是骑在玩家头上的实体，后面输入实体 ID。比如一只狐狸骑在玩家头上，那么动画名就是<code>passenger$minecraft:fox</code></li></ul></li><li><p><code>q.max_durability</code>和<code>q.remaining_durability</code>，需要输入一个槽位字符串参数</p><ul><li><p>举例：<code>q.max_durability(&#39;mainhand&#39;)</code>：返回主手手持物品的最大耐久</p></li><li><p>参数有 <code>Mainhand</code> <code>Offhand</code> <code>Feet</code> <code>Legs</code> <code>Chest</code> <code>Head</code></p></li></ul></li><li><p><code>ysm.rendering_in_inventory</code>：无参，返回布尔值，判断玩家是否正在GUI中渲染，可以用来做一些仅在 GUI 中显示的动画；</p></li><li><p><code>ysm.eye_in_water</code>：眼部是否在水下，用来判断玩家是否完全浸入水中</p></li><li><p><code>ysm.frozen_ticks</code>：细雪中增加此数值到 140</p></li><li><p><code>ysm.air_supply</code>：空气值，最大 300</p></li><li><p><code>ysm.arrow_count</code>：玩家插在身上的箭的数量</p></li><li><p><code>ysm.stinger_count</code>：玩家插在身上的蜜蜂的毒刺的数量</p></li><li><p>以下全是实体相关 Attributes 属性：</p><ul><li><code>ysm.attack_damage</code></li><li><code>ysm.attack_speed</code></li><li><code>ysm.attack_knockback</code></li><li><code>ysm.movement_speed</code></li><li><code>ysm.knockback_resistance</code></li><li><code>ysm.luck</code></li><li><code>ysm.block_reach</code></li><li><code>ysm.entity_reach</code></li><li><code>ysm.swim_speed</code></li><li><code>ysm.entity_gravity</code></li><li><code>ysm.step_height_addition</code></li><li><code>ysm.nametag_distance</code></li></ul></li></ul>',7)])])}const r=i(c,[["render",a]]),n=JSON.parse('{"path":"/wiki/log/221/","title":"2.2.1 更新日志","lang":"zh-CN","frontmatter":{"title":"2.2.1 更新日志","icon":"ic:sharp-update","createTime":"2025/01/26 21:56:40","permalink":"/wiki/log/221/","tags":["更新日志"],"description":"本来按照惯例，此版本应该叫 1.2.1 的，但是会造成很大的混淆，故直接把版本号定为 2.2.1 功能更新与修复 全面换用新的模型文件结构，添加模型清单文件 ysm.json 统一管理： 支持设置默认材质和材质文件的展示顺序； 支持设置预览动画，在模型选择界面播放（旧版统一为 idle）； 支持自定义 Extra 动画的数量、顺序、名称（不再限制为 e...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2.2.1 更新日志\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-27T16:59:07.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://ysm.cfpa.team/wiki/log/221/"}],["meta",{"property":"og:site_name","content":"YSM 文档与教程"}],["meta",{"property":"og:title","content":"2.2.1 更新日志"}],["meta",{"property":"og:description","content":"本来按照惯例，此版本应该叫 1.2.1 的，但是会造成很大的混淆，故直接把版本号定为 2.2.1 功能更新与修复 全面换用新的模型文件结构，添加模型清单文件 ysm.json 统一管理： 支持设置默认材质和材质文件的展示顺序； 支持设置预览动画，在模型选择界面播放（旧版统一为 idle）； 支持自定义 Extra 动画的数量、顺序、名称（不再限制为 e..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-01-27T16:59:07.000Z"}],["meta",{"property":"article:tag","content":"更新日志"}],["meta",{"property":"article:modified_time","content":"2025-01-27T16:59:07.000Z"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://ysm.cfpa.team/en/wiki/log/221/"}]]},"readingTime":{"minutes":3.77,"words":1130},"git":{"createdTime":1737907586000,"updatedTime":1737997147000,"contributors":[{"name":"tartaric_acid","username":"","email":"baka943@qq.com","commits":2,"avatar":"https://gravatar.com/avatar/bd9574205994f1798c96f12ade0a302bb035133cad3e3046540d71244e5dc5c4?d=retro"}]},"autoDesc":true,"filePathRelative":"notes/wiki/更新日志/2.2.1 更新日志.md","headers":[]}');export{r as comp,n as data};
