import{_ as a,c as n,a as e,d as i,b as d,e as o,r as l,o as r}from"./app-Cr4mnnBX.js";const c={},m={class:"code-block-title","data-title":"ysm.json"},h={class:"code-block-title-bar"},p={class:"title"};function g(k,t){const s=l("VPIcon");return r(),n("div",null,[t[2]||(t[2]=e('<p><code>2.6.0</code> 起，YSM 对沉浸式奏乐（Immersive Melodies）做了更深度的联动，模型可以根据演奏数据驱动更生动的乐器动作。</p><h2 id="添加定位文件" tabindex="-1"><a class="header-anchor" href="#添加定位文件"><span>添加定位文件</span></a></h2><p>默认模型的沉浸式奏乐动画全部放置于 <code>im.animation.json</code>文件中，本质为手部条件动画。会在玩家手持对应物品，进行相关操作时播放。</p><p>如果需要修改默认路径，则需要去你的 <code>ysm.json</code> 的 <code>animation</code> 字段里添加一个新的字段 <code>immersive_melodies</code> 如下图所示：</p>',4)),i("div",m,[i("div",h,[i("span",p,[d(s,{provider:"iconify",name:"vscode-icons:file-type-json"}),t[0]||(t[0]=o("ysm.json",-1))])]),t[1]||(t[1]=e(`<div class="language-jsonc line-numbers-mode" data-highlighter="shiki" data-ext="jsonc" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-jsonc"><span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">animation</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">main</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">animations/main.animation.json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    //...</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    //这里填你的路径</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">immersive_melodies</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">animations/im.animation.json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1))]),t[3]||(t[3]=e('<p>动画清单较多，这里不逐个列出。请以默认模型的 <code>im.animation.json</code> 为准。</p><p>这里仅仅提供乐器名与英文 id 的对照。</p><table><thead><tr><th style="text-align:center;">乐器</th><th style="text-align:center;">英文 id</th></tr></thead><tbody><tr><td style="text-align:center;">风笛</td><td style="text-align:center;"><code>bagpipe</code></td></tr><tr><td style="text-align:center;">迪吉里杜管</td><td style="text-align:center;"><code>didgeridoo</code></td></tr><tr><td style="text-align:center;">长笛</td><td style="text-align:center;"><code>flute</code></td></tr><tr><td style="text-align:center;">琉特琴</td><td style="text-align:center;"><code>lute</code></td></tr><tr><td style="text-align:center;">钢琴</td><td style="text-align:center;"><code>piano</code></td></tr><tr><td style="text-align:center;">三角铁</td><td style="text-align:center;"><code>triangle</code></td></tr><tr><td style="text-align:center;">小号</td><td style="text-align:center;"><code>trumpet</code></td></tr><tr><td style="text-align:center;">小鼓</td><td style="text-align:center;"><code>tiny_drum</code></td></tr><tr><td style="text-align:center;">提琴</td><td style="text-align:center;"><code>vielle</code></td></tr><tr><td style="text-align:center;">末影贝斯</td><td style="text-align:center;"><code>ender_bass</code></td></tr><tr><td style="text-align:center;">手碟</td><td style="text-align:center;"><code>handpan</code></td></tr></tbody></table><h2 id="molang-变量" tabindex="-1"><a class="header-anchor" href="#molang-变量"><span>Molang 变量</span></a></h2><p>以下变量可用于驱动动画细节（如手指力度、摆动幅度、呼吸节奏等）：</p><table><thead><tr><th style="text-align:center;">Molang</th><th style="text-align:center;">含义</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ctrl.im_current</code></td><td style="text-align:center;">当前电平强度，范围 <code>0~1</code></td></tr><tr><td style="text-align:center;"><code>ctrl.im_delta</code></td><td style="text-align:center;">距离上一次音符输出的时间间隔（单位：ms）</td></tr><tr><td style="text-align:center;"><code>ctrl.im_pitch</code></td><td style="text-align:center;">音高，常见范围 <code>0~2</code>（具体取值由正在弹奏的音符决定）</td></tr><tr><td style="text-align:center;"><code>ctrl.im_volume</code></td><td style="text-align:center;">音符强度（力度），常见范围 <code>0~2</code></td></tr><tr><td style="text-align:center;"><code>ctrl.im_time</code></td><td style="text-align:center;">从开始演奏到当前的累计时间（单位：ms）</td></tr></tbody></table>',6))])}const u=a(c,[["render",g]]),v=JSON.parse('{"path":"/wiki/animation/immersive-melodies/","title":"沉浸式奏乐动画","lang":"zh-CN","frontmatter":{"title":"沉浸式奏乐动画","createTime":"2026/01/04 23:36:29","permalink":"/wiki/animation/immersive-melodies/","icon":"mingcute:music-line","description":"2.6.0 起，YSM 对沉浸式奏乐（Immersive Melodies）做了更深度的联动，模型可以根据演奏数据驱动更生动的乐器动作。 添加定位文件 默认模型的沉浸式奏乐动画全部放置于 im.animation.json文件中，本质为手部条件动画。会在玩家手持对应物品，进行相关操作时播放。 如果需要修改默认路径，则需要去你的 ysm.json 的 a...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"沉浸式奏乐动画\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-05T11:24:06.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://ysm.cfpa.team/wiki/animation/immersive-melodies/"}],["meta",{"property":"og:site_name","content":"YSM 文档与教程"}],["meta",{"property":"og:title","content":"沉浸式奏乐动画"}],["meta",{"property":"og:description","content":"2.6.0 起，YSM 对沉浸式奏乐（Immersive Melodies）做了更深度的联动，模型可以根据演奏数据驱动更生动的乐器动作。 添加定位文件 默认模型的沉浸式奏乐动画全部放置于 im.animation.json文件中，本质为手部条件动画。会在玩家手持对应物品，进行相关操作时播放。 如果需要修改默认路径，则需要去你的 ysm.json 的 a..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-05T11:24:06.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-05T11:24:06.000Z"}]]},"readingTime":{"minutes":1.22,"words":366},"git":{"createdTime":1767585053000,"updatedTime":1767612246000,"contributors":[{"name":"KLuoNuoYa","username":"KLuoNuoYa","email":"153290281+KLuoNuoYa@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/KLuoNuoYa?v=4","url":"https://github.com/KLuoNuoYa"},{"name":"homewool","username":"homewool","email":"93774195+homewool@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/homewool?v=4","url":"https://github.com/homewool"},{"name":"tartaric_acid","username":"","email":"baka943@qq.com","commits":1,"avatar":"https://gravatar.com/avatar/bd9574205994f1798c96f12ade0a302bb035133cad3e3046540d71244e5dc5c4?d=retro"}]},"autoDesc":true,"filePathRelative":"notes/wiki/动画制作/沉浸式奏乐动画.md","headers":[]}');export{u as comp,v as data};
