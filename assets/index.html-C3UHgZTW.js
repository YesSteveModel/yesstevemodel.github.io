import{_ as i,c as a,a as l,o as t}from"./app-Cp3LFcV5.js";const o={};function n(d,e){return t(),a("div",null,[...e[0]||(e[0]=[l(`<h2 id="行为不一致的预设-molang" tabindex="-1"><a class="header-anchor" href="#行为不一致的预设-molang"><span>行为不一致的预设 molang</span></a></h2><p>这些 molang 参数在不同的 Minecraft 版本中结果不一致，请谨慎使用！</p><h5 id="ysm-biome-category" tabindex="-1"><a class="header-anchor" href="#ysm-biome-category"><span>ysm.biome_category</span></a></h5><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意！这个变量仅在 1.16.5 和 1.18.2 可以使用</p></div><ul><li>描述：获取玩家所处群系的类别；</li><li>返回：字符串类型的群系类别。</li></ul><p>例：<code>ysm.biome_category == &#39;forest&#39;</code></p><p>返回：<code>true</code></p><table><thead><tr><th style="text-align:center;">群系类别（1.16.5/1.18.2）</th><th style="text-align:center;">名称</th></tr></thead><tbody><tr><td style="text-align:center;">taiga</td><td style="text-align:center;">针叶林</td></tr><tr><td style="text-align:center;">extreme_hills</td><td style="text-align:center;">风袭丘陵</td></tr><tr><td style="text-align:center;">jungle</td><td style="text-align:center;">丛林</td></tr><tr><td style="text-align:center;">mesa</td><td style="text-align:center;">恶地</td></tr><tr><td style="text-align:center;">plains</td><td style="text-align:center;">平原</td></tr><tr><td style="text-align:center;">savanna</td><td style="text-align:center;">热带草原</td></tr><tr><td style="text-align:center;">icy</td><td style="text-align:center;">冰系群系</td></tr><tr><td style="text-align:center;">beach</td><td style="text-align:center;">沙滩</td></tr><tr><td style="text-align:center;">forest</td><td style="text-align:center;">森林</td></tr><tr><td style="text-align:center;">ocean</td><td style="text-align:center;">海洋</td></tr><tr><td style="text-align:center;">desert</td><td style="text-align:center;">沙漠</td></tr><tr><td style="text-align:center;">river</td><td style="text-align:center;">河流</td></tr><tr><td style="text-align:center;">swamp</td><td style="text-align:center;">沼泽</td></tr><tr><td style="text-align:center;">mushroom</td><td style="text-align:center;">蘑菇岛</td></tr><tr><td style="text-align:center;">nether</td><td style="text-align:center;">下界</td></tr><tr><td style="text-align:center;">the_end</td><td style="text-align:center;">末地</td></tr></tbody></table><h5 id="query-biome-has-all-tags" tabindex="-1"><a class="header-anchor" href="#query-biome-has-all-tags"><span>query.biome_has_all_tags</span></a></h5><p>由于 1.16 版本没有群系标签，所以该函数只是个占位符，用以维持向前兼容性。只能在 1.18 以上的版本可用。</p><h5 id="query-biome-has-any-tags" tabindex="-1"><a class="header-anchor" href="#query-biome-has-any-tags"><span>query.biome_has_any_tags</span></a></h5><p>也是占位符。只能在 1.18 以上的版本可用。</p><h5 id="ysm-step-height-addition" tabindex="-1"><a class="header-anchor" href="#ysm-step-height-addition"><span>ysm.step_height_addition</span></a></h5><p>只能在 1.19 以上的版本可用。</p><h5 id="left-shoulder-parrot-varian-和-right-shoulder-parrot-variant" tabindex="-1"><a class="header-anchor" href="#left-shoulder-parrot-varian-和-right-shoulder-parrot-variant"><span>left_shoulder_parrot_varian 和 right_shoulder_parrot_variant</span></a></h5><p>只能在 1.20 以上的版本可用。</p><h2 id="molang-更新日志" tabindex="-1"><a class="header-anchor" href="#molang-更新日志"><span>molang 更新日志</span></a></h2><h3 id="_1-2-0-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_1-2-0-版本新增函数与变量"><span>1.2.0 版本新增函数与变量</span></a></h3><p>这些变量与函数是 1.2.0 及以后的版本中添加的：</p><h5 id="query-debug-output" tabindex="-1"><a class="header-anchor" href="#query-debug-output"><span>query.debug_output()</span></a></h5><ul><li>描述：输出消息至聊天框，仅在动画调试模式下有效；</li><li>参数：任意类型，任意数量；</li><li>返回值：null 。</li></ul><p>例：<code>query.debug_output(&#39;喵&#39;, 1, 2, 3)</code></p><p>聊天框显示： <code>喵123</code></p><p>返回：<code>null</code></p><h5 id="math-min-angle" tabindex="-1"><a class="header-anchor" href="#math-min-angle"><span>math.min_angle()</span></a></h5><ul><li>描述：计算指定角度在 [-180, 180) 内的等效角度；</li></ul><p>例：<code>math.min_angle(780)</code></p><p>返回：<code>60</code></p><h5 id="query-cape-flap-amount" tabindex="-1"><a class="header-anchor" href="#query-cape-flap-amount"><span>query.cape_flap_amount</span></a></h5><ul><li>描述：获取披风飘起的程度，即使玩家没穿披风也有效；</li><li>返回值：0 - 1 的数值。0 为完全垂下，1 完全飘起。</li></ul><p>例：<code>q.cape_flap_amount</code></p><p>返回：<code>0.35</code></p><h5 id="query-position" tabindex="-1"><a class="header-anchor" href="#query-position"><span>query.position()</span></a></h5><ul><li>描述：获取实体所处的位置坐标；</li><li>参数：0-2 的整数，分别指的 X、Y、Z 分量；</li><li>返回值：玩家位置坐标的指定分量；</li></ul><p>例：<code>q.position(1)</code>（获取玩家位置的 Y 坐标）</p><p>返回：<code>1003.23</code></p><h5 id="query-position-delta" tabindex="-1"><a class="header-anchor" href="#query-position-delta"><span>query.position_delta()</span></a></h5><ul><li>描述：获取实体的位置坐标自上次更新动画以来的差值，与帧率有关；</li><li>参数/返回值：0-2 的整数，分别指坐标差值的 X、Y、Z 分量；</li><li>返回值：玩家位置坐标差值的指定分量。</li></ul><p>例1：<code>q.position_delta(0)</code>（获取玩家位置差值的 X 分量）</p><p>例1返回：<code>-0.076</code></p><p>例2：</p><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plain"><span class="line"><span>v.time0 &gt; 0 &amp;&amp; q.life_time - v.time0 &gt; 0 ? (v.speed_x = (q.position_delta(0) - v.x0) / (q.life_time - v.time0));</span></span>
<span class="line"><span>v.x0 = q.position_delta(0);</span></span>
<span class="line"><span>v.time0 = q.life_time;</span></span>
<span class="line"><span>return v.speed_x;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例2返回：<code>19.03</code></p><h5 id="ysm-in-ground" tabindex="-1"><a class="header-anchor" href="#ysm-in-ground"><span>ysm.in_ground</span></a></h5><ul><li>描述：判断箭矢是否掉在地上</li><li>返回：布尔值</li></ul><p>例：<code>ysm.in_ground</code></p><p>返回：<code>true</code></p><h5 id="ysm-on-ground-time" tabindex="-1"><a class="header-anchor" href="#ysm-on-ground-time"><span>ysm.on_ground_time</span></a></h5><ul><li>描述：获取箭矢在地上躺了多久</li><li>返回：整数，单位为 tick</li></ul><h5 id="ysm-is-spectral-arrow" tabindex="-1"><a class="header-anchor" href="#ysm-is-spectral-arrow"><span>ysm.is_spectral_arrow</span></a></h5><ul><li>描述：判断箭矢是否为光灵箭</li><li>返回：布尔值</li></ul><h5 id="ysm-projectile-owner" tabindex="-1"><a class="header-anchor" href="#ysm-projectile-owner"><span>ysm.projectile_owner</span></a></h5><ul><li>描述：获取发射该箭矢的玩家实体</li><li>返回：玩家实体，可以使用“箭头表达式”查询其属性</li></ul><p>例： <code>v.flame_level ?? (v.flame_level = ysm.projectile_owner-&gt;ysm.equipped_enchantment_level(&#39;Mainhand&#39;, &#39;minecraft:flame&#39;))</code></p><p>解释：<code>将该表达式写在箭矢动画中任意 parallel 动画的指令关键帧的第一帧，能在箭矢射出时获取玩家主手的弓的火矢附魔等级，并存储在 v.flame_level 变量中。不会重复执行。</code></p><p>返回：<code>0</code></p><h5 id="ysm-delta-movement-length" tabindex="-1"><a class="header-anchor" href="#ysm-delta-movement-length"><span>ysm.delta_movement_length</span></a></h5><ul><li>描述：获取箭矢在两 Tick 之间的位移长度，可以用来判断速度；</li><li>返回：数值类型的位移长度。</li></ul><p>Tips：如果速度异常，尝试安装 <a href="https://www.mcmod.cn/class/8885.html" target="_blank" rel="noopener noreferrer">Fast Projectile Fix</a>。</p><h5 id="ysm-texture-name" tabindex="-1"><a class="header-anchor" href="#ysm-texture-name"><span>ysm.texture_name</span></a></h5><ul><li>描述：获取玩家正在使用的材质名称；</li><li>返回值：字符串类型的材质名称，含扩展名；</li></ul><p>例1：<code>ysm.texture_name</code></p><p>例1返回：<code>&#39;blue.png&#39;</code></p><p>例2：<code>ysm.texture_name == &#39;blue.png&#39;</code></p><p>例2返回：<code>true</code></p><h5 id="ysm-mod-version" tabindex="-1"><a class="header-anchor" href="#ysm-mod-version"><span>ysm.mod_version()</span></a></h5><ul><li>描述：获取客户端安装的指定模组的版本；</li><li>参数：字符串类型的模组 id（注意不是模组名称）；</li><li>返回：若已安装该模组则返回版本号字符串，否则返回 null。</li></ul><p>例：<code>ysm.mod_version(&#39;tac&#39;)</code></p><p>返回：<code>&#39;0.3.10.5&#39;</code></p><h5 id="ysm-dump-mods" tabindex="-1"><a class="header-anchor" href="#ysm-dump-mods"><span>ysm.dump_mods</span></a></h5><ul><li>描述：输出已安装的模组信息至聊天框，仅在动画调试模式下有效；</li><li>返回：null</li></ul><h5 id="ysm-dimension-name" tabindex="-1"><a class="header-anchor" href="#ysm-dimension-name"><span>ysm.dimension_name</span></a></h5><ul><li>描述：获取当前维度；</li><li>返回：字符串类型的维度 id。</li></ul><p>例：<code>ysm.dimension_name</code></p><p>返回：<code>&#39;twilightforest:twilightforest&#39;</code>（暮色森林）</p><h5 id="ysm-weather" tabindex="-1"><a class="header-anchor" href="#ysm-weather"><span>ysm.weather</span></a></h5><ul><li>描述：获取当前天气；</li><li>返回：0：晴天，1：雨或雪，2：雷雨或暴雪。</li></ul><p>例：<code>ysm.weather</code></p><p>返回：<code>1</code></p><p>Tips：下雨还是下雪取决于当前群系以及所处高度，或<a href="https://www.mcmod.cn/class/1132.html" target="_blank" rel="noopener noreferrer">静谧四季</a>之类的模组；</p><h5 id="ysm-is-open-air" tabindex="-1"><a class="header-anchor" href="#ysm-is-open-air"><span>ysm.is_open_air</span></a></h5><ul><li>描述：判断玩家是否处于露天区域；</li><li>返回：布尔值</li></ul><p>Tips：能帮助判断是否正在淋雪，而 <code>q.is_in_water_or_rain</code> 不能。</p><h5 id="query-equipped-item-all-tags" tabindex="-1"><a class="header-anchor" href="#query-equipped-item-all-tags"><span>query.equipped_item_all_tags()</span></a></h5><ul><li>描述：判断玩家装备物品是否包含指定的<strong>所有</strong>物品标签；</li><li></li></ul><p>参数①：字符串类型的玩家装备槽，参考 <a href="https://learn.microsoft.com/en-us/minecraft/creator/scriptapi/minecraft/server/equipmentslot?view=minecraft-bedrock-stable" target="_blank" rel="noopener noreferrer">基岩版文档</a> ，注意区分大小写；</p><ul><li>参数②......：任意数量的字符串类型物品标签；</li><li>返回：布尔值</li></ul><p>例：<code>query.equipped_item_all_tags(&#39;Mainhand&#39;, &#39;minecraft:tools&#39;, &#39;minecraft:swords&#39;)</code></p><p>返回：<code>true</code></p><h5 id="query-equipped-item-any-tag" tabindex="-1"><a class="header-anchor" href="#query-equipped-item-any-tag"><span>query.equipped_item_any_tag()</span></a></h5><ul><li>描述：判断玩家装备物品是否包含指定的物品标签中的<strong>任意一个</strong>；</li><li></li></ul><p>参数①：字符串类型的玩家装备槽，参考 <a href="https://learn.microsoft.com/en-us/minecraft/creator/scriptapi/minecraft/server/equipmentslot?view=minecraft-bedrock-stable" target="_blank" rel="noopener noreferrer">基岩版文档</a> ，注意区分大小写；</p><ul><li>参数②......：任意数量的字符串类型物品标签；</li><li>返回：布尔值</li></ul><h5 id="query-is-item-name-any" tabindex="-1"><a class="header-anchor" href="#query-is-item-name-any"><span>query.is_item_name_any()</span></a></h5><ul><li>描述：判断玩家装备物品 id 是否为指定的物品 id 中的<strong>任意一个</strong>；</li><li>参数：任意数量的字符串类型物品 id；</li><li>返回：布尔值</li></ul><p>例：<code>q.is_item_name_any(&#39;Mainhand&#39;, &#39;cooked_beef&#39;)</code>（熟牛排）</p><p>返回：<code>true</code></p><h5 id="ysm-equipped-enchantment-level" tabindex="-1"><a class="header-anchor" href="#ysm-equipped-enchantment-level"><span>ysm.equipped_enchantment_level()</span></a></h5><ul><li>描述：获取玩家已装备物品的指定附魔等级；</li><li></li></ul><p>参数①：字符串类型的玩家装备槽，参考 <a href="https://learn.microsoft.com/en-us/minecraft/creator/scriptapi/minecraft/server/equipmentslot?view=minecraft-bedrock-stable" target="_blank" rel="noopener noreferrer">基岩版文档</a> ，注意区分大小写；</p><ul><li>参数②：附魔 ID，参考 <a href="https://www.mcmod.cn/item/list/1-5.html" target="_blank" rel="noopener noreferrer">Wiki</a>；</li></ul><p><img src="https://s2.loli.net/2025/01/31/5R6zZdP1tfrxIlO.png" alt="img"></p><ul><li>返回值：整数类型的附魔等级。如果附魔不存在，则返回 0。</li></ul><p>例：<code>ysm.equipped_enchantment_level(&#39;Mainhand&#39;, &#39;minecraft:mending&#39;)</code>（获取主手物品经验修补等级）</p><p>返回：<code>1</code></p><h5 id="ysm-dump-equipped-item" tabindex="-1"><a class="header-anchor" href="#ysm-dump-equipped-item"><span>ysm.dump_equipped_item()</span></a></h5><ul><li>描述：输出玩家已装备物品的信息至聊天框，仅在动画调试模式下有效；</li><li></li></ul><p>参数①：字符串类型的玩家装备槽，参考 <a href="https://learn.microsoft.com/en-us/minecraft/creator/scriptapi/minecraft/server/equipmentslot?view=minecraft-bedrock-stable" target="_blank" rel="noopener noreferrer">基岩版文档</a> ，注意区分大小写；</p><ul><li>返回：null</li></ul><h5 id="ysm-relative-block-name" tabindex="-1"><a class="header-anchor" href="#ysm-relative-block-name"><span>ysm.relative_block_name()</span></a></h5><ul><li>描述：获取玩家附近某个方块的 id；</li><li>参数①②③：以玩家为中心的目标方块的相对位置坐标；</li><li>返回：字符串类型的方块 id。</li></ul><p>例：<code>ysm.relative_block_name(0, -1, 0)</code>（玩家脚下的方块）</p><p>返回：<code>&#39;minecraft:sand&#39;</code></p><h5 id="query-relative-block-has-all-tags" tabindex="-1"><a class="header-anchor" href="#query-relative-block-has-all-tags"><span>query.relative_block_has_all_tags()</span></a></h5><ul><li>描述：判断玩家附近某个方块是否包含所有指定的<strong>所有</strong>方块标签；</li><li>参数①②③：以玩家为中心的目标方块的相对位置坐标；</li><li>参数④......：<strong>任意数量</strong>的字符串类型的方块标签；</li><li>返回：布尔值。</li></ul><p>例：<code>q.relative_block_has_all_tags(0, -0.5, 0, &#39;minecraft:sand&#39;, &#39;minecraft:enderman_holdable&#39;)</code></p><p>返回：<code>true</code></p><h5 id="query-relative-block-has-any-tag" tabindex="-1"><a class="header-anchor" href="#query-relative-block-has-any-tag"><span>query.relative_block_has_any_tag()</span></a></h5><ul><li>描述：判断玩家附近某个方块是否包含指定的方块标签中的<strong>任意一个</strong>；</li><li>参数①②③：以玩家为中心的目标方块的相对位置坐标；</li><li>参数④......：<strong>任意数量</strong>的字符串类型的方块标签；</li><li>返回：布尔值。</li></ul><h5 id="ysm-dump-relative-block" tabindex="-1"><a class="header-anchor" href="#ysm-dump-relative-block"><span>ysm.dump_relative_block</span></a></h5><ul><li>描述：输出玩家附近某个方块的信息至聊天框，仅在动画调试模式下有效；</li><li>参数①②③：目标方块的以玩家为中心的相对位置坐标；</li><li>返回：null</li></ul><h5 id="ysm-effect-level" tabindex="-1"><a class="header-anchor" href="#ysm-effect-level"><span>ysm.effect_level()</span></a></h5><ul><li>描述：获取玩家或箭矢上附加的药水效果等级；</li><li>参数①：字符串类型的药水 id；</li><li>返回：数值类型的药水效果等级。如果不存在，则返回 0 。</li></ul><p>例：<code>ysm.effect_level(&#39;minecraft:regeneration&#39;)</code>（获取目标附加的生命恢复效果的等级）</p><p>返回：<code>0</code>（目标没有这个效果）</p><h5 id="ysm-dump-effects" tabindex="-1"><a class="header-anchor" href="#ysm-dump-effects"><span>ysm.dump_effects</span></a></h5><ul><li>描述：输出玩家附加的药水效果的信息至聊天框，仅在动画调试模式下有效；</li><li>返回：null</li></ul><h3 id="_2-2-1-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_2-2-1-版本新增函数与变量"><span>2.2.1 版本新增函数与变量</span></a></h3><ul><li><p>【Forge 1.20】修复了 <code>ysm.relative_block_name</code> 结果不正确的问题；</p></li><li><p>修正 <code>q.body_y_rotation</code> 不正确的问题</p></li><li><p>爬梯相关 molang 变量：</p><ol><li><code>ysm.on_ladder</code>，布尔值，用来判断实体是否在梯子上</li><li><code>ysm.ladder_facing</code> 梯子朝向，输出数字 0-3，分别对应：南-西-北-东</li></ol></li><li><p>原版鹦鹉相关 molang 变量：</p><ol><li><p><code>has_left_shoulder_parrot</code>, <code>has_right_shoulder_parrot</code></p></li><li><p><code>left_shoulder_parrot_variant</code>，<code>right_shoulder_parrot_variant</code>：鹦鹉颜色变种</p><blockquote><p>注意：1.19 及以前版本没有字符串形式的鹦鹉颜色变种，故此变量仅能用于 1.20 及以后版本</p></blockquote></li></ol></li><li><p><code>q.max_durability</code>和<code>q.remaining_durability</code>，需要输入一个槽位字符串参数</p><ul><li><p>举例：<code>q.max_durability(&#39;mainhand&#39;)</code>：返回主手手持物品的最大耐久</p></li><li><p>参数有 <code>Mainhand</code> <code>Offhand</code> <code>Feet</code> <code>Legs</code> <code>Chest</code> <code>Head</code></p></li></ul></li><li><p><code>ysm.rendering_in_inventory</code>：无参，返回布尔值，判断玩家是否正在GUI中渲染，可以用来做一些仅在 GUI 中显示的动画；</p></li><li><p><code>ysm.eye_in_water</code>：眼部是否在水下，用来判断玩家是否完全浸入水中</p></li><li><p><code>ysm.frozen_ticks</code>：细雪中增加此数值到 140</p></li><li><p><code>ysm.air_supply</code>：空气值，最大 300</p></li><li><p><code>ysm.arrow_count</code>：玩家插在身上的箭的数量</p></li><li><p><code>ysm.stinger_count</code>：玩家插在身上的蜜蜂的毒刺的数量</p></li><li><p>以下全是实体相关 Attributes 属性：</p><ul><li><code>ysm.attack_damage</code></li><li><code>ysm.attack_speed</code></li><li><code>ysm.attack_knockback</code></li><li><code>ysm.movement_speed</code></li><li><code>ysm.knockback_resistance</code></li><li><code>ysm.luck</code></li><li><code>ysm.block_reach</code></li><li><code>ysm.entity_reach</code></li><li><code>ysm.swim_speed</code></li><li><code>ysm.entity_gravity</code></li><li><code>ysm.step_height_addition</code><strong>（1.18 及以前版本无此参数）</strong></li><li><code>ysm.nametag_distance</code></li></ul></li></ul><h3 id="_2-2-2-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_2-2-2-版本新增函数与变量"><span>2.2.2 版本新增函数与变量</span></a></h3><ul><li><p>添加 <code>ysm.bone_pivot_abs</code>，获取指定骨骼枢轴点于上一帧在模型空间内的坐标。</p><blockquote><p>注意如果父骨骼被隐藏，或缩放 0，则该值不会更新。例: <code>ysm.bone_pivot_abs(&#39;LeftHand&#39;).x</code>;</p></blockquote></li><li><p>添加 <code>ysm.bone_[rot/scale/pos]</code>，用于获取上一帧的骨骼参数。</p><blockquote><p>示例：<code>ysm.bone_rot(&#39;LeftLeg&#39;).x</code>;</p></blockquote></li></ul><h3 id="_2-3-0-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_2-3-0-版本新增函数与变量"><span>2.3.0 版本新增函数与变量</span></a></h3><ul><li>新增 <code>ysm.shoot_item_id</code> 函数，可以用来区分是用什么物品射出的箭</li><li>新增 <code>q.any_animation_finished</code> <code>q.all_animations_finished</code> 参数用于动画控制器</li><li>添加专为控制器使用的，以 <code>ctrl</code> 开头的 molang</li><li>新增 <code>ysm.input_vertical</code> <code>ysm.input_horizontal</code> 变量，用来查询玩家当前的移动情况</li><li>新增 <code>ysm.first_order</code> <code>ysm.second_order</code> 函数，方便制作物理模拟动画</li></ul><h3 id="_2-3-1-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_2-3-1-版本新增函数与变量"><span>2.3.1 版本新增函数与变量</span></a></h3><ul><li><p>新增 <code>ysm.rendering_in_paperdoll</code> 变量专用于纸娃娃</p></li><li><p>新增 <code>ysm.person_view</code> 变量，返回数字（第一人称：0，第三人称背面：1，第三人称正面：2；应该能兼容越肩视角）</p></li><li><p>新增 <code>ctrl.idle</code> 变量</p></li><li><p>修正 <code>ctrl.run</code> <code>ctrl.walk</code> 在潜行和趴下时也为 true 的问题</p></li><li><p>修正 <code>ctrl.climb</code> 参数在游泳时也为 true 的问题</p></li><li><p>修正 <code>ysm.rendering_in_inventory</code> 部分情况下参数不正确的问题（比如左上角纸娃娃）</p></li><li><p>修正 <code>q.is_first_person</code> 和 <code>ysm.first_person_mod_hide</code> 部分情况下不正确的问题</p></li></ul><h3 id="_2-4-0-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_2-4-0-版本新增函数与变量"><span>2.4.0 版本新增函数与变量</span></a></h3><ul><li><p>新增女仆相关 molang 变量：</p><ul><li><p><code>ysm.entity_type</code> 返回 player 和 maid</p></li><li><p><code>ysm.is_player</code> 布尔值</p></li><li><p><code>ysm.is_maid</code> 布尔值</p></li><li><p><code>tlm.favorability_point</code> 好感度点数，0-384</p></li><li><p><code>tlm.favorability_level</code> 好感度等级：0-3</p></li><li><p><code>tlm.task_id</code> 工作模式 id，字符串</p></li><li><p><code>tlm.schedule</code> 工作日程，day night all，白班夜班全天</p></li><li><p><code>tlm.activity</code> 活动，work idle reset 上班，下班，睡觉</p></li><li><p><code>tlm.gomoku_win_count</code> 五子棋赢棋总回合数</p></li><li><p><code>tlm.gomoku_rank</code> 五子棋段位，1-4，没有 0</p></li><li><p><code>tlm.game_statue</code> 棋局状态，win lost 空字符串</p></li><li><p><code>tlm.backpack_type</code> 背包 ID</p></li><li><p><code>tlm.is_entity</code> 渲染女仆实体</p></li><li><p><code>tlm.is_statue</code> 渲染雕像</p></li><li><p><code>tlm.is_garage_kit</code> 渲染手办</p></li><li><p><code>tlm.show_item</code> 那个装饰槽位的物品 ID</p></li></ul></li><li><p>添加粒子生成的 molang：</p><ul><li><code>ysm.particle(&#39;id&#39;, x, y, z, dx, dy, dz, speed, count, life_time)</code></li><li><code>ysm.abs_particle(&#39;id&#39;, x, y, z, dx, dy, dz, speed, count, life_time)</code></li></ul></li><li><p><code>ysm.mainhand_charged_crossbow</code></p></li><li><p><code>ysm.offhand_charged_crossbow</code></p></li><li><p><code>ysm.is_fishing</code></p></li></ul><h3 id="_2-5-0-版本新增函数与变量" tabindex="-1"><a class="header-anchor" href="#_2-5-0-版本新增函数与变量"><span>2.5.0 版本新增函数与变量</span></a></h3><ul><li><p>新增饰品相关变量</p><ul><li><p><code>ysm.has_any_curios(type, name...)</code><br> 判断指定饰品槽是否佩戴了指定的饰品中的任意一个。 type 为饰品槽类型，name 为物品 id（支持任意数量，不止一个），下同。 当 name 数量为 0 时，仅检测饰品槽是否为空。</p></li><li><p><code>ysm.has_any_curios_with_all_tags(type, tag...)</code><br> 判断指定饰品槽是否佩戴了任意一个饰品有给定的所有标签</p></li><li><p><code>ysm.has_any_curios_with_any_tag(type, tag...)</code><br> 判断指定饰品槽是否佩戴了任意一个饰品有给定的任意一个标签</p></li><li><p><code>ysm.dump_curios</code><br> 输出当前玩家佩戴的饰品信息。仅在动画调试模式下有效。</p></li></ul></li><li><p>新增播放音频相关函数</p><ul><li><code>ysm.play_sound(&#39;id&#39;, &#39;sound_name&#39;, boolean,volume,pitch)</code><br> 播放音频，id为该音频的标识，boolean为是否强制播放</li><li><code>ysm.stop_sound(&#39;id&#39;)</code><br> 停止音频，id为该音频的标识</li></ul></li><li><p>新增亮度检测变量</p><ul><li><code>ysm.block_light</code><br> 脚下方块亮度</li><li><code>ysm.sky_light</code><br> 脚下方块受到天空所贡献的亮度</li></ul></li><li><p>新增按键检测函数</p><ul><li><code>ysm.mouse(keycode)</code><br> 检测鼠标按键情况</li><li><code>ysm.keyboard(keycode)</code><br> 检测键盘按键情况</li></ul></li><li><p>新增弹射物相关molang</p><ul><li><code>ysm.throwable_item</code><br> 物品类型投掷物的物品 ID</li><li><code>ysm.hooked_in</code><br> 鱼钩勾住的实体 ID</li><li><code>ysm.is_biting</code><br> 鱼钩是否咬钩</li></ul></li><li><p>新增脚本控制器相关(只能用于脚本控制器)</p><ul><li><code>ctrl.set_animation(animation, loop_type)</code><br> 用于播放指定动画</li><li><code>ctrl.set_beginning_transition_length(second)</code><br> 用于设置当前控制器的动画混合时间</li></ul></li></ul><h4 id="注意" tabindex="-1"><a class="header-anchor" href="#注意"><span>注意</span></a></h4><ul><li>forge/neoforge 端饰品模组为 Curios；</li><li>fabric 端饰品模组为 Trinkets；</li><li>两端的饰品槽类型不同，需要单独适配。</li></ul>`,141)])])}const s=i(o,[["render",n]]),c=JSON.parse(`{"path":"/wiki/molang/misc/","title":"molang 杂项内容","lang":"zh-CN","frontmatter":{"title":"molang 杂项内容","createTime":"2025/09/20 21:36:02","permalink":"/wiki/molang/misc/","icon":"fluent:book-24-regular","author":"TartaricAcid","description":"行为不一致的预设 molang 这些 molang 参数在不同的 Minecraft 版本中结果不一致，请谨慎使用！ ysm.biome_category 注意 注意！这个变量仅在 1.16.5 和 1.18.2 可以使用 描述：获取玩家所处群系的类别； 返回：字符串类型的群系类别。 例：ysm.biome_category == 'forest' 返...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"molang 杂项内容\\",\\"image\\":[\\"https://s2.loli.net/2025/01/31/5R6zZdP1tfrxIlO.png\\"],\\"dateModified\\":\\"2025-09-20T14:13:25.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"TartaricAcid\\"}]}"],["meta",{"property":"og:url","content":"https://ysm.cfpa.team/wiki/molang/misc/"}],["meta",{"property":"og:site_name","content":"YSM 文档与教程"}],["meta",{"property":"og:title","content":"molang 杂项内容"}],["meta",{"property":"og:description","content":"行为不一致的预设 molang 这些 molang 参数在不同的 Minecraft 版本中结果不一致，请谨慎使用！ ysm.biome_category 注意 注意！这个变量仅在 1.16.5 和 1.18.2 可以使用 描述：获取玩家所处群系的类别； 返回：字符串类型的群系类别。 例：ysm.biome_category == 'forest' 返..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://s2.loli.net/2025/01/31/5R6zZdP1tfrxIlO.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-20T14:13:25.000Z"}],["meta",{"property":"article:author","content":"TartaricAcid"}],["meta",{"property":"article:modified_time","content":"2025-09-20T14:13:25.000Z"}]]},"readingTime":{"minutes":10.27,"words":3082},"git":{"createdTime":1758377605000,"updatedTime":1758377605000,"contributors":[{"name":"tartaric_acid","username":"","email":"baka943@qq.com","commits":1,"avatar":"https://gravatar.com/avatar/bd9574205994f1798c96f12ade0a302bb035133cad3e3046540d71244e5dc5c4?d=retro"}]},"autoDesc":true,"filePathRelative":"notes/wiki/molang/molang杂项内容.md","headers":[]}`);export{s as comp,c as data};
