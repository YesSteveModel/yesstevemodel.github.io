import{_ as a,c as n,a as i,d as l,e as t,b as r,w as d,r as s,o as c}from"./app-Cr4mnnBX.js";const p={};function m(u,e){const o=s("VPLink");return c(),n("div",null,[e[11]||(e[11]=i('<h2 id="问题修正" tabindex="-1"><a class="header-anchor" href="#问题修正"><span>问题修正</span></a></h2><ul><li>在不兼容的系统上提供更详细的错误提示</li><li>修复生命值为非整数时反复触发属性同步的问题</li><li>改进部分同步属性的处理逻辑</li><li>修复 2.2.1 及更低版本导出的加密模型中半透明面渲染异常的问题</li><li>修复载具模型的 <code>roaming</code> 变量同步问题</li><li>修复其他模组扩展 <code>SlotType</code> 时导致崩溃的问题</li><li>修复某些模组可能导致药水效果为 null 的问题</li><li>修复异步动画更新失效的问题</li><li>修复 <code>ysm.in_shield_block_cooldown</code> 无效的问题</li><li>修复旧版加密模型箭矢替换失效的问题（需手动删除缓存后生效）</li><li>修复若干客户端崩溃问题</li></ul><h2 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化"><span>性能优化</span></a></h2><ul><li>改进部分同步属性的处理逻辑</li><li>大幅提升 zip 模型和旧加密模型的读取速度</li><li>大幅提升 PNG 图片的编解码速度</li><li>优化模型音频处理性能 <ul><li>新增服务端配置项 <code>AcceptSoundFX</code>，可选择性禁用模型音频读取，以提升模型加载速度并降低带宽占用</li></ul></li></ul><h2 id="功能优化" tabindex="-1"><a class="header-anchor" href="#功能优化"><span>功能优化</span></a></h2>',5)),l("ul",null,[l("li",null,[e[4]||(e[4]=t("改进 UV 处理方式 ",-1)),l("ul",null,[e[2]||(e[2]=l("li",null,"主要影响 UV 尺寸或面积为 0 的面",-1)),e[3]||(e[3]=l("li",null,"影响范围：低于 2.2.1 版本和高于 2.5.4 版本的加密模型，以及所有未加密模型",-1)),l("li",null,[e[1]||(e[1]=t("起草了 YSM UV 规范，您可以",-1)),r(o,{href:"/wiki/ysm-uv-standard/"},{default:d(()=>[...e[0]||(e[0]=[t("点击这里查看相关内容",-1)])]),_:1})])])]),e[5]||(e[5]=l("li",null,[t("为 "),l("code",null,"/ysm model set"),t(" 指令新增默认贴图名称占位符 "),l("code",null,"-")],-1)),e[6]||(e[6]=l("li",null,"改进运行环境检测机制，在不支持的环境下弹出警告窗口",-1)),e[7]||(e[7]=l("li",null,"细化动画更新上下文",-1)),e[8]||(e[8]=l("li",null,"对已禁用模型的实体不再添加 Jade 信息",-1)),e[9]||(e[9]=l("li",null,"更新部分语言文件",-1)),e[10]||(e[10]=l("li",null,"更新蓝玫瑰绘制的新版图标",-1))]),e[12]||(e[12]=i('<h2 id="动画与模型更新" tabindex="-1"><a class="header-anchor" href="#动画与模型更新"><span>动画与模型更新</span></a></h2><ul><li><p>新增K螺模型</p></li><li><p>默认酒狐模型优化与修正</p><ul><li>优化 <code>tacz</code> 枪械使用动画，现在飞行状态下使用不会再出问题（感谢 @千代纸）</li><li>酒狐飞行动画改为直升机样式（感谢 @小莫莫）</li><li>新增大酒狐模型（感谢 @受不了老师）</li><li>优化并更新魔法酒狐动画（感谢 @星海境）</li></ul></li><li><p>新增 Molang 变量：</p><ul><li><code>query.rotation_to_camera</code>：与基岩版用法一致，返回玩家摄像机视角的 <code>yaw</code> 和 <code>pitch</code></li><li><code>ctrl.tac_fire_mode</code>：返回 tacz 的开火模式字符串</li><li><code>ysm.hit_target_id</code>：返回鼠标指针指向的方块或实体 ID</li><li><code>ysm.hit_target_type</code>：返回鼠标指针指向的目标类型，方块返回 <code>block</code>，实体返回 <code>entity</code></li><li><code>ctrl.bcombat_attack_animation</code>：返回 Better Combat 的攻击动画，注意该动画不区分主副手，需通过额外条件判断</li><li>沉浸式奏乐模组相关： <ul><li><code>ctrl.im_pitch</code>：音高，通常为 0-2 之间</li><li><code>ctrl.im_volume</code>：音量，通常为 0-2 之间</li><li><code>ctrl.im_current</code>：电平强度，范围为 0-1</li><li><code>ctrl.im_delta</code>：自上次音符输出后经过的时间（单位：毫秒）</li><li><code>ctrl.im_time</code>：自开始演奏后经过的时间（单位：毫秒）</li></ul></li><li><code>ctrl.iss_animation</code>：铁魔法施法动画</li><li>攻击 swing 相关 molang： <ul><li><code>ysm.swinging</code>：布尔值，当玩家挥动时，返回 true</li><li><code>ysm.swing_time</code>：整数，当玩家挥动时，返回挥动的计数，一般在 10 以内</li><li><code>ysm.swinging_arm</code>：挥动的手臂，主手为 0，副手为 1</li><li><code>ysm.attack_time</code>：浮点数，攻击时前摇的计数器；0-1 之间，当为 1 时，触发攻击</li></ul></li></ul></li></ul><h2 id="模组兼容" tabindex="-1"><a class="header-anchor" href="#模组兼容"><span>模组兼容</span></a></h2><h3 id="_1-better-combat-模组" tabindex="-1"><a class="header-anchor" href="#_1-better-combat-模组"><span>1. Better Combat 模组</span></a></h3><p>Better Combat 目前可通过默认的 swing 动画实现，暂无额外的专属动画。</p><p>可通过 <code>ctrl.bcombat_attack_animation</code> Molang 配合动画控制器，实现更精细的 Better Combat 动画。</p><p>修复了部分 Better Combat 的兼容问题：</p><ul><li>修复挥动武器不触发动画的问题</li><li>修复开启光影时第一人称视角下渲染异常的问题</li><li>修复 swing 动画在多人游戏中不同步的问题</li></ul><h3 id="_2-沉浸式奏乐模组" tabindex="-1"><a class="header-anchor" href="#_2-沉浸式奏乐模组"><span>2. 沉浸式奏乐模组</span></a></h3><p>新增专用的 <code>im.animation.json</code> 动画文件，承载默认的 11 种乐器动画。</p><p>新增 5 个与当前奏乐相关的 Molang 变量，方便制作动态动画。</p><p>感谢 @星屑海螺 制作的奏乐动画。</p><h3 id="_3-铁魔法" tabindex="-1"><a class="header-anchor" href="#_3-铁魔法"><span>3. 铁魔法</span></a></h3><p>新增专用的 <code>iss.animation.json</code> 动画文件，用于放置铁魔法的部分施法动画（可扩展兼容其他附属模组）。</p><p>新增 1 个与当前施法动画相关的 Molang 变量。</p><p>感谢 @艾克雷亚 和 @星海境 制作的施法动画。</p>',16))])}const g=a(p,[["render",m]]),y=JSON.parse('{"path":"/wiki/log/260/","title":"2.6.0 更新日志","lang":"zh-CN","frontmatter":{"title":"2.6.0 更新日志","icon":"ic:sharp-update","createTime":"2026/01/04 21:30:30","permalink":"/wiki/log/260/","tags":["更新日志"],"description":"问题修正 在不兼容的系统上提供更详细的错误提示 修复生命值为非整数时反复触发属性同步的问题 改进部分同步属性的处理逻辑 修复 2.2.1 及更低版本导出的加密模型中半透明面渲染异常的问题 修复载具模型的 roaming 变量同步问题 修复其他模组扩展 SlotType 时导致崩溃的问题 修复某些模组可能导致药水效果为 null 的问题 修复异步动画更新...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2.6.0 更新日志\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-05T03:50:53.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://ysm.cfpa.team/wiki/log/260/"}],["meta",{"property":"og:site_name","content":"YSM 文档与教程"}],["meta",{"property":"og:title","content":"2.6.0 更新日志"}],["meta",{"property":"og:description","content":"问题修正 在不兼容的系统上提供更详细的错误提示 修复生命值为非整数时反复触发属性同步的问题 改进部分同步属性的处理逻辑 修复 2.2.1 及更低版本导出的加密模型中半透明面渲染异常的问题 修复载具模型的 roaming 变量同步问题 修复其他模组扩展 SlotType 时导致崩溃的问题 修复某些模组可能导致药水效果为 null 的问题 修复异步动画更新..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2026-01-05T03:50:53.000Z"}],["meta",{"property":"article:tag","content":"更新日志"}],["meta",{"property":"article:modified_time","content":"2026-01-05T03:50:53.000Z"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://ysm.cfpa.team/en/wiki/log/260/"}]]},"readingTime":{"minutes":3.69,"words":1107},"git":{"createdTime":1767585053000,"updatedTime":1767585053000,"contributors":[{"name":"KLuoNuoYa","username":"KLuoNuoYa","email":"153290281+KLuoNuoYa@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/KLuoNuoYa?v=4","url":"https://github.com/KLuoNuoYa"},{"name":"homewool","username":"homewool","email":"93774195+homewool@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/homewool?v=4","url":"https://github.com/homewool"}]},"autoDesc":true,"filePathRelative":"notes/wiki/更新日志/2.6.0 更新日志.md","headers":[]}');export{g as comp,y as data};
